"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[49839],{448142:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var a=s(474848),r=s(28453);const i={sidebar_position:6090,slug:"2021-10-23",title:"Install Packages in Arch Linux",authors:"mpolinowski",tags:["Linux","Cheating"]},t=void 0,c={id:"DevOps/Linux/2021-10-23--arch-linux-install-packages/index",title:"Install Packages in Arch Linux",description:"Shenzhen, China",source:"@site/docs/DevOps/Linux/2021-10-23--arch-linux-install-packages/index.md",sourceDirName:"DevOps/Linux/2021-10-23--arch-linux-install-packages",slug:"/DevOps/Linux/2021-10-23--arch-linux-install-packages/2021-10-23",permalink:"/docs/DevOps/Linux/2021-10-23--arch-linux-install-packages/2021-10-23",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Linux/2021-10-23--arch-linux-install-packages/index.md",tags:[{label:"Linux",permalink:"/docs/tags/linux"},{label:"Cheating",permalink:"/docs/tags/cheating"}],version:"current",sidebarPosition:6090,frontMatter:{sidebar_position:6090,slug:"2021-10-23",title:"Install Packages in Arch Linux",authors:"mpolinowski",tags:["Linux","Cheating"]},sidebar:"tutorialSidebar",previous:{title:"Install Docker in Arch Linux",permalink:"/docs/DevOps/Linux/2021-10-24--arch-linux-install-docker/2021-10-24"},next:{title:"The friendly Editor",permalink:"/docs/DevOps/Linux/2021-10-09--the-friendly-editor/2021-10-09"}},l={},o=[{value:"Pacman",id:"pacman",level:2},{value:"Arch User Repository",id:"arch-user-repository",level:2},{value:"DEBtoArchPackage",id:"debtoarchpackage",level:2},{value:"pacseek",id:"pacseek",level:2},{value:"Installation",id:"installation",level:3}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Shenzhen, China",src:s(948564).A+"",width:"1500",height:"477"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#pacman",children:"Pacman"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#arch-user-repository",children:"Arch User Repository"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#debtoarchpackage",children:"DEBtoArchPackage"})}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"#pacseek",children:"pacseek"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.a,{href:"#installation",children:"Installation"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"pacman",children:"Pacman"}),"\n",(0,a.jsx)(n.p,{children:"Install packages through the internal package manager Pacman - e.g.:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S go\r\nsudo pacman -S nodejs npm\n"})}),"\n",(0,a.jsx)(n.h2,{id:"arch-user-repository",children:"Arch User Repository"}),"\n",(0,a.jsx)(n.p,{children:"Arch User Repository, also known as AUR, is a major part of the Arch Linux ecosystem. It\u2019s a community-driven repository for the Arch Linux system that hosts a number of packages outside the official Arch Linux package database."}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["Choose your Package, e.g. ",(0,a.jsx)(n.a,{href:"https://aur.archlinux.org/packages/github-desktop-bin/",children:"Github Desktop"}),"."]}),"\n",(0,a.jsxs)(n.li,{children:["Click on ",(0,a.jsx)(n.a,{href:"https://aur.archlinux.org/cgit/aur.git/snapshot/github-desktop-bin.tar.gz",children:"Download Snapshot"})," and extract the package."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"cd"})," into the package directory and run the following command to execute the ",(0,a.jsx)(n.code,{children:"PKGBUILD"})," script:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"makepkg\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"ERROR Messages"}),":"]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"==> ERROR: Cannot find the fakeroot binary."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"https://wiki.manjaro.org/index.php?title=Arch_User_Repository",children:"Manjaro Wiki"})]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S --needed base-devel\r\n\r\n:: There are 11 members in group base-devel:\r\n:: Repository core\r\n   1) autoconf  2) automake  3) binutils  4) bison  5) fakeroot  6) flex  7) gcc  8) m4  9) make  10) patch  11) pkgconf\r\n\r\nEnter a selection (default=all): 5\r\nresolving dependencies...\r\nlooking for conflicting packages...\r\n\r\nPackages (1) fakeroot-1.26-1\r\n\r\nTotal Download Size:   0.07 MiB\r\nTotal Installed Size:  0.14 MiB\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"==> ERROR: Cannot find the strip binary required for object file stripping."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S --needed base-devel\r\n\r\n:: There are 11 members in group base-devel:\r\n:: Repository core\r\n   1) autoconf  2) automake  3) binutils  4) bison  5) fakeroot  6) flex  7) gcc  8) m4  9) make  10) patch  11) pkgconf\r\n\r\nEnter a selection (default=all): 3\r\nresolving dependencies...\r\nlooking for conflicting packages...\r\n\r\nPackages (2) elfutils-0.185-1  binutils-2.36.1-3\r\n\r\nTotal Download Size:    6.78 MiB\r\nTotal Installed Size:  48.04 MiB\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now it works:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"makepkg\r\n==> Making package: github-desktop-bin 2.9.4-1 (Monday, November 22, 2021 PM01:14:19)\r\n==> Checking runtime dependencies...\r\n==> Checking buildtime dependencies...\r\n==> Retrieving sources...\r\n  -> Downloading GitHubDesktop-linux-2.9.4-linux1.deb...\n"})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"Now install the build package with Packman:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -U github-desktop-bin-2.9.4-1-x86_64.pkg.tar.zst\n"})}),"\n",(0,a.jsx)(n.h2,{id:"debtoarchpackage",children:"DEBtoArchPackage"}),"\n",(0,a.jsxs)(n.p,{children:["Make sure that ",(0,a.jsx)(n.code,{children:"pkgfile"})," is installed:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S pkgfile\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Convert ",(0,a.jsx)(n.code,{children:"*.deb"})," installer using ",(0,a.jsx)(n.a,{href:"https://github.com/helixarch/debtap",children:"Debtap"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"wget https://github.com/helixarch/debtap/archive/refs/tags/3.4.2.tar.gz\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Update"})," ",(0,a.jsx)(n.code,{children:"wget https://github.com/helixarch/debtap/archive/refs/tags/3.5.1.tar.gz"})]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Unzip the binary and enter the directory:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"tar xzf 3.5.1.tar.gz\r\ncd debtap-3.5.1\r\n./debtap -v\r\n3.5.1\n"})}),"\n",(0,a.jsx)(n.p,{children:'You must run at least once "debtap -u" with root privileges (preferably recently), before running this script:'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo ./debtap -u\r\n==> Synchronizing pkgfile database...\r\n:: Updating 4 repos...\r\n  community is up to date\r\n  extra is up to date\r\n  core is up to date\r\n  multilib is up to date\r\n==> Synchronizing debtap database...\r\n...\r\n==> Generating base group packages list...\r\n==> All steps successfully completed!\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now run the conversion:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"./debtap ../../Astrill/astrill-setup-linux64.deb\r\n==> Extracting package data...\r\n==> Fixing possible directories structure differencies...\r\n==> Generating .PKGINFO file...\r\n\r\n:: Enter Packager name:\r\nastrill-setup-linux64\r\n\r\n*** Creation of .PKGINFO file in progress. It may take a few minutes, please wait...\r\n\r\n==> Checking and generating .INSTALL file (if necessary)...\r\n\r\n:: If you want to edit .PKGINFO and .INSTALL files (in this order), press (1) For vi (2) For nano (3) For default editor (4) For a custom editor or any other key to continue: \r\n\r\n\r\n==> Generating .MTREE file...\r\n\r\n==> Creating final package...\r\n==> Package successfully created!\r\n==> Removing leftover files...\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Now install the ",(0,a.jsx)(n.code,{children:"*.zst"})," file using Pacman:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -U astrill-3.9.0-1-x86_64.pkg.tar.zst\r\n\r\nWARNING: Your system is missing pixbuf theme engine. Please install package gtk2-engines-pixbuf or gtk2-engines\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S gtk-engines\n"})}),"\n",(0,a.jsx)(n.p,{children:"And I kept getting a few missing files errors that I could solve by copying them (from the unpacked DEB file) to the expected locations:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"Failed to set capabilities on file '/usr/Astrill/astrill': No such file or directory\r\nchmod: cannot access '/usr/Astrill/astrill.theme': No such file or directory\r\nchmod: cannot access '/usr/Astrill/astrill.theme': No such file or directory\r\nchmod: cannot access '/usr/Astrill/astrill.theme/assets': No such file or directory\r\nchmod: cannot access '/usr/Astrill/astrill.theme/assets2x': No such file or directory\r\n/tmp/alpm_4PvsCm/.INSTALL: line 53: /usr/Astrill/astrill: No such file or directory\r\ncp: cannot stat '/usr/Astrill/Astrill.desktop': No such file or directory\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now it worked :"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"sudo pacman -U astrill-3.9.0-1-x86_64.pkg.tar.zst                                                  \ue0b2 \u2714 \r\nloading packages...\r\nwarning: astrill-3.9.0-1 is up to date -- reinstalling\r\nresolving dependencies...\r\nlooking for conflicting packages...\r\n\r\nPackages (1) astrill-3.9.0-1\r\n\r\nTotal Installed Size:  17.91 MiB\r\nNet Upgrade Size:       0.00 MiB\r\n\r\n:: Proceed with installation? [Y/n] y\r\n(1/1) checking keys in keyring                                                  [##############################################] 100%\r\n(1/1) checking package integrity                                                [##############################################] 100%\r\n(1/1) loading package files                                                     [##############################################] 100%\r\n(1/1) checking for file conflicts                                               [##############################################] 100%\r\n(1/1) checking available disk space                                             [##############################################] 100%\r\nwarning: could not get file information for etc/pm/sleep.d/90_astrill\r\n:: Running pre-transaction hooks...\r\n(1/1) Creating Timeshift snapshot before upgrade...\r\n==> skipping timeshift-autosnap due skipRsyncAutosnap in /etc/timeshift-autosnap.conf set to TRUE.\r\n:: Processing package changes...\r\n(1/1) reinstalling astrill                                                      [##############################################] 100%\r\nTesting '/usr/local/Astrill/liblsp64.so':PASSED\r\n:: Running post-transaction hooks...\r\n(1/3) Arming ConditionNeedsUpdate...\r\n(2/3) Refreshing PackageKit...\r\n(3/3) Updating the desktop file MIME type cache...\n"})}),"\n",(0,a.jsxs)(n.p,{children:["And I am able to start the application from the Desktop shortcut ",(0,a.jsx)(n.code,{children:"<3"})]}),"\n",(0,a.jsx)(n.h2,{id:"pacseek",children:"pacseek"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://github.com/moson-mo/pacseek",children:"pacseek"})," is terminal user interface which allows you to browse and search through the Arch Linux package databases as well as the Arch User Repository."]}),"\n",(0,a.jsx)(n.h3,{id:"installation",children:"Installation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/moson-mo/pacseek.git\r\ncd pacseek\r\ngo build .\r\nsudo mv ./pacseek /usr/bin/pacseek\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Add the binary file to your path variable - e.g. ",(0,a.jsx)(n.code,{children:"~/.bashrc"})," or ",(0,a.jsx)(n.code,{children:"~/.zshrc"})," - and update the configuration ",(0,a.jsx)(n.code,{children:"source ~/.zshrc"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"# pacseek\r\nexport PATH=$PATH:/usr/bin/pacseek\n"})}),"\n",(0,a.jsx)(n.p,{children:"Now you can run the interface with:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pacseek\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Install Packages in Arch Linux",src:s(848819).A+"",width:"1103",height:"576"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Install Packages in Arch Linux",src:s(674328).A+"",width:"1104",height:"582"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},848819:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/Arch-Linux-Install-Packages_01-424a7fa1ee5070c9e589d00d8cde7522.png"},674328:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/Arch-Linux-Install-Packages_02-bd58e29a18b64f7ddcb95c1c5bd97f66.png"},948564:(e,n,s)=>{s.d(n,{A:()=>a});const a=s.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-bdb08691301ecbfc0de5c0bac3e0f0be.jpg"},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>c});var a=s(296540);const r={},i=a.createContext(r);function t(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);