"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[89729],{57629:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>c});var s=n(474848),r=n(28453);const a={sidebar_position:8050,slug:"2017-12-17",title:"Gatsby.js with Bootstrap 4",authors:"mpolinowski",tags:["Javascript","React","Gatsby","Bootstrap"]},i="Gatsby.js & Bootstrap 4",o={id:"Development/Javascript/2017-12-17--gatsby-reactstrap/index",title:"Gatsby.js with Bootstrap 4",description:"Harbin, China",source:"@site/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/index.mdx",sourceDirName:"Development/Javascript/2017-12-17--gatsby-reactstrap",slug:"/Development/Javascript/2017-12-17--gatsby-reactstrap/2017-12-17",permalink:"/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/2017-12-17",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/index.mdx",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"React",permalink:"/docs/tags/react"},{label:"Gatsby",permalink:"/docs/tags/gatsby"},{label:"Bootstrap",permalink:"/docs/tags/bootstrap"}],version:"current",sidebarPosition:8050,frontMatter:{sidebar_position:8050,slug:"2017-12-17",title:"Gatsby.js with Bootstrap 4",authors:"mpolinowski",tags:["Javascript","React","Gatsby","Bootstrap"]},sidebar:"tutorialSidebar",previous:{title:"Gatsby Material UI Starter",permalink:"/docs/Development/Javascript/2018-01-07--gatsby-material-ui-starter/2018-01-07"},next:{title:"Gatsby.js Knowledgebase",permalink:"/docs/Development/Javascript/2017-12-14--gatsby-wiki/2017-12-14"}},l={},c=[{value:"Install Gatsby&#39;s command line tool",id:"install-gatsbys-command-line-tool",level:2},{value:"Using the Gatsby CLI",id:"using-the-gatsby-cli",level:2},{value:"Install reactstrap",id:"install-reactstrap",level:2},{value:"Optional Dependencies",id:"optional-dependencies",level:3},{value:"Import the Components",id:"import-the-components",level:2},{value:"Testing your build",id:"testing-your-build",level:2},{value:"Setting up a Webserver",id:"setting-up-a-webserver",level:2}];function p(e){const t={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Harbin, China",src:n(56596).A+"",width:"1500",height:"545"})}),"\n",(0,s.jsx)(t.h1,{id:"gatsbyjs--bootstrap-4",children:"Gatsby.js & Bootstrap 4"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://github.com/mpolinowski/gatsby-reactstrap",children:"Github"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"#gatsbyjs--bootstrap-4",children:"Gatsby.js & Bootstrap 4"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#install-gatsbys-command-line-tool",children:"Install Gatsby's command line tool"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#using-the-gatsby-cli",children:"Using the Gatsby CLI"})}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"#install-reactstrap",children:"Install reactstrap"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#optional-dependencies",children:"Optional Dependencies"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#import-the-components",children:"Import the Components"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#testing-your-build",children:"Testing your build"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"#setting-up-a-webserver",children:"Setting up a Webserver"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Let's try to use the static site generator for React - ",(0,s.jsx)(t.a,{href:"https://www.gatsbyjs.org",children:"Gatsby"})," together with the Bootstrap 4 React components from ",(0,s.jsx)(t.a,{href:"https://reactstrap.github.io",children:"reactstrap"}),". To get started, I want to reproduce one of the official examples from ",(0,s.jsx)(t.a,{href:"http://getbootstrap.com/docs/4.0/examples/album/",children:"getbootstrap.com"}),"."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Gatsby-reactstrap",src:n(173731).A+"",width:"1405",height:"831"})}),"\n",(0,s.jsx)(t.h2,{id:"install-gatsbys-command-line-tool",children:"Install Gatsby's command line tool"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"npm install --global gatsby-cli\n"})}),"\n",(0,s.jsx)(t.h2,{id:"using-the-gatsby-cli",children:"Using the Gatsby CLI"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Create a new site. ",(0,s.jsx)(t.strong,{children:"gatsby new gatsby-reactstrap"})]}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"cd gatsby-reactstrap"})}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"gatsby develop"})," \u2014 Gatsby will start a hot-reloading development environment accessible at localhost:8000"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"install-reactstrap",children:"Install reactstrap"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"npm install bootstrap@4.0.0-beta.2 --save\r\n\r\nnpm install --save reactstrap@next\n"})}),"\n",(0,s.jsx)(t.h3,{id:"optional-dependencies",children:"Optional Dependencies"}),"\n",(0,s.jsx)(t.p,{children:"These libraries are not included in the main distribution file reactstrap.min.js and need to be manually included when using components that require transitions or popover effects (e.g. Tooltip, Modal, etc)."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.npmjs.com/package/react-transition-group",children:"react-transition-group"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.npmjs.com/package/react-popper",children:"react-popper"})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"import-the-components",children:"Import the Components"}),"\n",(0,s.jsx)(t.p,{children:"Import Bootstrap CSS in the ./src/layouts/index.jsx file:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// import 'bootstrap/dist/css/bootstrap.min.css';\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"UPDATE"}),":\r\nThe import statement above works fine during development. But the Bootstrap CSS will not be imported when you build your static site - ",(0,s.jsx)(t.em,{children:"gatsby build"})]}),"\n",(0,s.jsxs)(t.p,{children:["You can copy the minified CSS to into the ",(0,s.jsx)(t.em,{children:"./src/layouts"})," folder and change the import accordingly:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"import './bootstrap.min.css';\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Import required reactstrap components within your custom component files e.g. ",(0,s.jsx)(t.em,{children:"./src/components/ReactNavbar.jsx"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"import {\r\n  Collapse,\r\n  Navbar,\r\n  NavbarToggler,\r\n  NavbarBrand,\r\n  Nav,\r\n  NavItem,\r\n  NavLink,\r\n  Button\r\n} from 'reactstrap';\n"})}),"\n",(0,s.jsxs)(t.p,{children:["And add the react class according the ",(0,s.jsx)(t.a,{href:"https://reactstrap.github.io/components/navbar/",children:"reactstrap documentation"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"export default class ReactNavbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.toggleNavbar = this.toggleNavbar.bind(this);\r\n    this.state = {\r\n      collapsed: true\r\n    };\r\n  }\r\n\r\n  toggleNavbar() {\r\n    this.setState({\r\n      collapsed: !this.state.collapsed\r\n    });\r\n  }\r\n  render() {\r\n    return <div>\r\n        <Navbar color='dark' light>\r\n          <NavbarBrand to='/' className='mr-auto'>\r\n            <img src='/static/instar-logo-s.png' />\r\n          </NavbarBrand>\r\n          <NavbarToggler onClick={this.toggleNavbar} className='mr-2' />\r\n          <Collapse isOpen={!this.state.collapsed} navbar>\r\n            <Nav navbar>\r\n              <NavItem>\r\n                <Link to='/'>\r\n                  <Button color='primary' block>\r\n                    Indoor Cameras\r\n                  </Button>\r\n                </Link>\r\n              </NavItem>\r\n              <NavItem>\r\n                <Link to='/page-2/'>\r\n                  <Button color='primary' block>\r\n                    Outdoor Cameras\r\n                  </Button>\r\n                </Link>\r\n              </NavItem>\r\n              <NavItem>\r\n                <NavLink href='https://github.com/mpolinowski/gatsby-reactstrap' target='_blank'>\r\n                  <Button color='danger' block>\r\n                    Github Repository\r\n                  </Button>\r\n                </NavLink>\r\n              </NavItem>\r\n            </Nav>\r\n          </Collapse>\r\n        </Navbar>\r\n      </div>;\r\n  }\r\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"This component can then be imported into any page or layout you want:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"import ReactNavbar from '../components/ReactNavbar'\r\n[...]\r\n<ReactNavbar />\n"})}),"\n",(0,s.jsx)(t.h2,{id:"testing-your-build",children:"Testing your build"}),"\n",(0,s.jsx)(t.p,{children:"Stop the development process and type in the following command to build the static version of your React App:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"gatsby build\n"})}),"\n",(0,s.jsx)(t.p,{children:"To quickly check your build, you can use httpster:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"npm install httpster -g\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Then run your build on localhost:3000 - e.g. if you have your repository in ",(0,s.jsx)(t.em,{children:"E:\\gatsby-reactstrap"})," - by typing:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"httpster -p 3000 -d /e/gatsby-reactstrap/public\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"For Windows User"}),":\r\nI noticed that httpster does not seem to like my ",(0,s.jsx)(t.a,{href:"https://hyper.is",children:"Hyper Terminal"})," - it runs fine in ",(0,s.jsx)(t.a,{href:"http://gitforwindows.org",children:"Git Bash"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"setting-up-a-webserver",children:"Setting up a Webserver"}),"\n",(0,s.jsxs)(t.p,{children:["I want to use ",(0,s.jsx)(t.a,{href:"https://expressjs.com",children:"Express.js"})," to serve the generated static files:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"npm install express --save\r\nnpm install compression --save\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Add an index.js file to the root directory of your app ",(0,s.jsx)(t.em,{children:"./index.js"})," and copy in the following code to serve the ",(0,s.jsx)(t.em,{children:"./public"})," folder on ",(0,s.jsx)(t.em,{children:"localhost:8888"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const express = require('express');\r\nconst app = express();\r\nconst compression = require('compression');\r\n// compress all responses\r\napp.use(compression());\r\n\r\napp.use(express.static('public'));\r\n\r\napp.listen(8888, () => console.log('gatsby-reactstrap listening on http://localhost:8888'));\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Now add a start script to your ",(0,s.jsx)(t.em,{children:"./package.json"})," file to allow you to start your server by typing ",(0,s.jsx)(t.strong,{children:"npm start"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"[...],\r\n  'scripts': {\r\n    'start': 'node ./index.js'\r\n  },\r\n[...]\n"})})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},173731:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/_gatsby-reactstrap_01-79c4efd6ef9c23fc115f9bccb472eb98.png"},56596:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/photo-33795713253_5b71110d90_o-765d9525993e145bef293d1ed37cea6c.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>o});var s=n(296540);const r={},a=s.createContext(r);function i(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);