"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[84007],{184509:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>l});var i=n(785893),a=n(603905);const r={sidebar_position:9090,slug:"2022-05-02",title:"React Native Navigation",authors:"mpolinowski",tags:["Javascript","React","ReactNative"]},o=void 0,s={id:"Development/ReactNative/2022-05-02-react-native-navigation/index",title:"React Native Navigation",description:"Victoria Harbour, Hongkong",source:"@site/docs/Development/ReactNative/2022-05-02-react-native-navigation/index.md",sourceDirName:"Development/ReactNative/2022-05-02-react-native-navigation",slug:"/Development/ReactNative/2022-05-02-react-native-navigation/2022-05-02",permalink:"/docs/Development/ReactNative/2022-05-02-react-native-navigation/2022-05-02",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/ReactNative/2022-05-02-react-native-navigation/index.md",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"React",permalink:"/docs/tags/react"},{label:"ReactNative",permalink:"/docs/tags/react-native"}],version:"current",sidebarPosition:9090,frontMatter:{sidebar_position:9090,slug:"2022-05-02",title:"React Native Navigation",authors:"mpolinowski",tags:["Javascript","React","ReactNative"]},sidebar:"tutorialSidebar",previous:{title:"React Native Context API",permalink:"/docs/Development/ReactNative/2022-05-03-react-native-contextapi/2022-05-03"},next:{title:"React Native Hello World",permalink:"/docs/Development/ReactNative/2022-05-01-react-native-hello-world/2022-05-01"}},c={},l=[{value:"Setup",id:"setup",level:2},{value:"Adding Navigation",id:"adding-navigation",level:2},{value:"Navigate to a Secondary Screen",id:"navigate-to-a-secondary-screen",level:3},{value:"Navigation from a Child Component",id:"navigation-from-a-child-component",level:3},{value:"Passing Data between Screens",id:"passing-data-between-screens",level:3},{value:"Using withNavigation HoC",id:"using-withnavigation-hoc",level:3}];function d(t){const e={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.ah)(),...t.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Victoria Harbour, Hongkong",src:n(904760).Z+"",width:"1500",height:"565"})}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#setup",children:"Setup"})}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.a,{href:"#adding-navigation",children:"Adding Navigation"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#navigate-to-a-secondary-screen",children:"Navigate to a Secondary Screen"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#navigation-from-a-child-component",children:"Navigation from a Child Component"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#passing-data-between-screens",children:"Passing Data between Screens"})}),"\n",(0,i.jsx)(e.li,{children:(0,i.jsx)(e.a,{href:"#using-withnavigation-hoc",children:"Using withNavigation HoC"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.a,{href:"https://github.com/mpolinowski/react-native-routing",children:"Github Repository"})}),"\n",(0,i.jsx)(e.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"npm install -g expo-cli\nexpo init react-native-navigation\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Choose the ",(0,i.jsx)(e.strong,{children:"blank"})," template and run the client:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"cd react-native-navigation\nnpm install styled-components react-navigation axios react-native-safe-area-view react-native-safe-area-context\nexpo-cli install react-native-gesture-handler react-native-reanimated react-navigation-stack\nnpm start\n"})}),"\n",(0,i.jsxs)(e.p,{children:["I can test code by scanning the QR Code using the ",(0,i.jsx)(e.strong,{children:"Expo Go"})," app under Android or by pressing the ",(0,i.jsx)(e.code,{children:"w"})," key to activate a web preview."]}),"\n",(0,i.jsxs)(e.blockquote,{children:["\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"error:0308010C:digital envelope routines::unsupported"}),": Newer versions of Node.js use OpenSSLv3 that brought some ",(0,i.jsx)(e.a,{href:"https://wiki.openssl.org/index.php/OpenSSL_3.0#Upgrading_to_OpenSSL_3.0_from_OpenSSL_1.0.2",children:"breaking changes"}),". Can be fixed (",(0,i.jsx)(e.strong,{children:">=Nodejs v17"}),") by adding the following option to the start script inside your ",(0,i.jsx)(e.code,{children:"package.json"})," -> ",(0,i.jsx)(e.code,{children:'"start": "export NODE_OPTIONS=--openssl-legacy-provider && expo start"'})]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"adding-navigation",children:"Adding Navigation"}),"\n",(0,i.jsxs)(e.p,{children:["The Expo CLI gave us a basic app boiler plate that we can  now edit. Start by removing the content of ",(0,i.jsx)(e.code,{children:"App.js"})," (or ",(0,i.jsx)(e.code,{children:"index.js"}),") and add the following:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import { createAppContainer, createSwitchNavigator } from 'react-navigation';\nimport { createStackNavigator } from 'react-navigation-stack';\n\nimport HomeScreen from './src/screens/Home'\n\nconst navigator = createStackNavigator(\n\t{\n\t\tHome: HomeScreen\n\t},\n\t{\n\t\tinitialRouteName: 'Home',\n\t\tdefaultNavigationOptions: {\n\t\t\ttitle: 'Home'\n\t\t}\n\t}\n)\n\nexport default createAppContainer(navigator)\n"})}),"\n",(0,i.jsxs)(e.p,{children:["And create the ",(0,i.jsx)(e.code,{children:"./src/screens/Home.js"})," component:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport { View, Text } from 'react-native'\n\nconst HomeScreen = () => {\n\treturn (\n\t\t<View>\n\t\t\t<Text>Hello</Text>\n\t\t</View>\n\t)\n}\n\nexport default HomeScreen\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Check the output inside your browser - there should be a small ",(0,i.jsx)(e.code,{children:"Hello"})," displayed in the top right. As well as a top navigation bar telling you that you are on the ",(0,i.jsx)(e.strong,{children:"Home"})," screen."]}),"\n",(0,i.jsx)(e.h3,{id:"navigate-to-a-secondary-screen",children:"Navigate to a Secondary Screen"}),"\n",(0,i.jsxs)(e.p,{children:["Create a second screen component ",(0,i.jsx)(e.code,{children:"src/screens/Details.jsx"})," that will show details about the list items on our home screen:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport {View, Text} from 'react-native'\n  \nconst ItemDetails = (props) => {\n\treturn (\n\t\t<View>\n\t\t\t<Text>Details</Text>\n\t\t</View>\n\t)\n}\n\nexport default ItemDetails\n"})}),"\n",(0,i.jsx)(e.p,{children:"Add the new screen to our navigator function:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import { createAppContainer, createSwitchNavigator } from 'react-navigation';\nimport { createStackNavigator } from 'react-navigation-stack';\n\nimport HomeScreen from './src/screens/Home'\nimport ItemDetails from './src/screens/Details'\n\nconst navigator = createStackNavigator(\n\t{\n\t\tHome: HomeScreen,\n\t\tDetails: ItemDetails\n\t},\n\t{\n\t\tinitialRouteName: 'Home',\n\t\tdefaultNavigationOptions: {\n\t\ttitle: 'Juicy Delicious'\n\t\t}\n\t}\n)\n\nexport default createAppContainer(navigator)\n"})}),"\n",(0,i.jsx)(e.p,{children:"Forward the navigation prop from our home screen to the home list child component:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport { View } from 'react-native'\n\nimport HomeList from '../components/HomeList'\n\nconst HomeScreen = (props) => {\n\treturn (\n\t\t<View>\n\t\t\t<HomeList navigate = {props.navigation.navigate}/>\n\t\t</View>\n\t)\n}\n\nexport default HomeScreen\n"})}),"\n",(0,i.jsxs)(e.p,{children:["And use it to set the navigate variable to the desired screen on button press - in this case ",(0,i.jsx)(e.code,{children:"Details"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport { ListHeader, ListSubHeader, ListItem, ListButton, StyledList } from './_styles'\n\nimport data from '../data/fruity.json'\n\nconst HomeList = (props) => {\n\treturn (\n\t\t<StyledList\n\t\t\tdata={data}\n\t\t\tkeyExtractor={item => item.fruit}\n\t\t\trenderItem={( {item} ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListButton onPress={() => {\n\t\t\t\t\t\t\tprops.navigate('Details')\n\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t<ListHeader>{ item.fruit }</ListHeader>\n\t\t\t\t\t\t\t<ListSubHeader>{ item.colour }</ListSubHeader>\n\t\t\t\t\t\t</ListButton>\n\t\t\t\t\t</ListItem>\n\t\t\t)}} />\n\t)\n}\n\nexport default HomeList\n"})}),"\n",(0,i.jsxs)(e.p,{children:["Pressing on any list item will now set the navigation prop to ",(0,i.jsx)(e.code,{children:"Details"})," and send us to the item details page - that currently only shows the word ",(0,i.jsx)(e.strong,{children:"Details"}),"."]}),"\n",(0,i.jsx)(e.h3,{id:"navigation-from-a-child-component",children:"Navigation from a Child Component"}),"\n",(0,i.jsxs)(e.p,{children:["In the example above we had to get access to the navigation prop from our screen component. We can simplify this by importing the ",(0,i.jsx)(e.code,{children:"withNavigation"})," HOC from ",(0,i.jsx)(e.code,{children:"react-navigation"})," into our child component:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport { withNavigation } from 'react-navigation'\n\nimport { ListHeader, ListSubHeader, ListItem, ListButton, StyledList } from './_styles'\nimport data from '../data/fruity.json'\n\nconst HomeList = (props) => {\n\treturn (\n\t\t<StyledList\n\t\t\tdata={data}\n\t\t\tkeyExtractor={item => item.fruit}\n\t\t\trenderItem={( {item} ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t<ListButton onPress={() => {\n\t\t\t\t\t\t\tprops.navigation.navigate('Details')\n\t\t\t\t\t\t}} >\n\t\t\t\t\t\t\t<ListHeader>{ item.fruit }</ListHeader>\n\t\t\t\t\t\t\t<ListSubHeader>{ item.colour }</ListSubHeader>\n\t\t\t\t\t\t</ListButton>\n\t\t\t\t\t</ListItem>\n\t\t\t)}} />\n\t\t)\n}\n\nexport default withNavigation(HomeList)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"passing-data-between-screens",children:"Passing Data between Screens"}),"\n",(0,i.jsx)(e.p,{children:"We can use the navigation prop inside our home list to also relay the information which item was clicked to the details screen:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"<HomeList navigation={props.navigation}/>\n"})}),"\n",(0,i.jsx)(e.p,{children:"And use this data in our item details:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport { ListHeader, ListSubHeader, ListItem, ListButton } from '../components/_styles'\n\nconst ItemDetails = (props) => {\n\tconst item = props.navigation.getParam('data')\n\treturn (\n\t\t<ListItem>\n\t\t\t<ListButton onPress={() => {\n\t\t\t\tprops.navigation.navigate('Details', {data: item})\n\t\t\t}} >\n\t\t\t\t<ListHeader>{ item.fruit }</ListHeader>\n\t\t\t\t<ListSubHeader>{ item.colour }</ListSubHeader>\n\t\t\t</ListButton>\n\t\t</ListItem>\n\t)\n}\n\nexport default ItemDetails\n"})}),"\n",(0,i.jsx)(e.h3,{id:"using-withnavigation-hoc",children:"Using withNavigation HoC"}),"\n",(0,i.jsxs)(e.p,{children:["Instead of passing the routing information as props from our ",(0,i.jsx)(e.strong,{children:"HomeList"}),":"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"<HomeList />\n"})}),"\n",(0,i.jsxs)(e.p,{children:["we can also use wrap our component in the ",(0,i.jsx)(e.code,{children:"withNavigation"})," component to provide the necessary information:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-jsx",children:"import React from 'react'\nimport { withNavigation } from 'react-navigation'\n\nimport { ListHeader, ListItem, ListButton, StyledList } from './_styles'\nimport data from '../data/fruity.json'\n\nconst HomeList = (props) => {\n\treturn (\n\t\t<StyledList\n\t\t\tdata={data}\n\t\t\tkeyExtractor={item => item.fruit}\n\t\t\trenderItem={( {item} ) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListItem>\n\t\t\t\t\t<ListButton onPress={() => {\n\t\t\t\t\t\tprops.navigation.navigate('Details', {data: item})\n\t\t\t\t\t}} >\n\t\t\t\t\t\t<ListHeader>{ item.fruit }</ListHeader>\n\t\t\t\t\t</ListButton>\n\t\t\t</ListItem>\n\t\t)}} />\n\t)\n}\n\nexport default withNavigation(HomeList)\n"})})]})}function p(t={}){const{wrapper:e}={...(0,a.ah)(),...t.components};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(d,{...t})}):d(t)}},603905:(t,e,n)=>{n.d(e,{ah:()=>l});var i=n(667294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,i,a=function(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var c=i.createContext({}),l=function(t){var e=i.useContext(c),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},d={inlineCode:"code",wrapper:function(t){var e=t.children;return i.createElement(i.Fragment,{},e)}},p=i.forwardRef((function(t,e){var n=t.components,a=t.mdxType,r=t.originalType,c=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),m=l(n),h=a,g=m["".concat(c,".").concat(h)]||m[h]||d[h]||r;return n?i.createElement(g,o(o({ref:e},p),{},{components:n})):i.createElement(g,o({ref:e},p))}));p.displayName="MDXCreateElement"},904760:(t,e,n)=>{n.d(e,{Z:()=>i});const i=n.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-23d027067cc9016279f834178a642545.jpg"}}]);