"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[4283],{698085:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>a,contentTitle:()=>i,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var t=o(474848),n=o(28453);const r={sidebar_position:8080,slug:"2021-05-01",title:"Ansible Tower Workflow Templates",authors:"mpolinowski",tags:["LINUX"]},i=void 0,l={id:"DevOps/Ansible/2021-05-01-ansible-tower-workflow-templates/index",title:"Ansible Tower Workflow Templates",description:"Guangzhou, China",source:"@site/docs/DevOps/Ansible/2021-05-01-ansible-tower-workflow-templates/index.md",sourceDirName:"DevOps/Ansible/2021-05-01-ansible-tower-workflow-templates",slug:"/DevOps/Ansible/2021-05-01-ansible-tower-workflow-templates/2021-05-01",permalink:"/docs/DevOps/Ansible/2021-05-01-ansible-tower-workflow-templates/2021-05-01",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Ansible/2021-05-01-ansible-tower-workflow-templates/index.md",tags:[{label:"LINUX",permalink:"/docs/tags/linux"}],version:"current",sidebarPosition:8080,frontMatter:{sidebar_position:8080,slug:"2021-05-01",title:"Ansible Tower Workflow Templates",authors:"mpolinowski",tags:["LINUX"]},sidebar:"tutorialSidebar",previous:{title:"Ansible Tower Practical Examples",permalink:"/docs/DevOps/Ansible/2021-05-02-ansible-tower-examples/2021-05-02"},next:{title:"Slack Notifications for Ansible Tower (AWX)",permalink:"/docs/DevOps/Ansible/2021-04-30-ansible-tower-slack-notifications/2021-04-30"}},a={},d=[{value:"Create a New Workflow",id:"create-a-new-workflow",level:2}];function c(e){const s={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Guangzhou, China",src:o(91758).A+"",width:"1500",height:"651"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"#create-a-new-workflow",children:"Create a New Workflow"})}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"create-a-new-workflow",children:"Create a New Workflow"}),"\n",(0,t.jsxs)(s.p,{children:["In the ",(0,t.jsx)(s.a,{href:"/docs/DevOps/Ansible/2021-04-29-ansible-tower-setup/2021-04-29",children:"previous Step we created a Project and used a Job Template to run it"}),". This time I want to use the Workflow visualizer to set up the same set of tasks."]}),"\n",(0,t.jsxs)(s.p,{children:["Enter the ",(0,t.jsx)(s.strong,{children:"Templates"})," menu and this time choose to add a ",(0,t.jsx)(s.strong,{children:"Workflow Template"}),". Fill out the form and hit save:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(429958).A+"",width:"960",height:"409"})}),"\n",(0,t.jsxs)(s.p,{children:["This will now load the ",(0,t.jsx)(s.strong,{children:"Workflow Visualizer"})," and ask you to add a ",(0,t.jsx)(s.strong,{children:"Job Template"})," ",(0,t.jsx)(s.code,{children:"Hello World"})," - choose the template that was ",(0,t.jsx)(s.a,{href:"/docs/DevOps/Ansible/2021-04-29-ansible-tower-setup/2021-04-29",children:"created earlier"}),":"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(211165).A+"",width:"960",height:"409"})}),"\n",(0,t.jsx)(s.p,{children:"Now we can add another node to make sure that the job is being synced before the template is run:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(990036).A+"",width:"960",height:"258"})}),"\n",(0,t.jsx)(s.p,{children:"Choose the hello world example you created:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(939947).A+"",width:"960",height:"393"})}),"\n",(0,t.jsxs)(s.p,{children:["And in a last extension we can add an ",(0,t.jsx)(s.strong,{children:"Approval"})," node to our flow that makes sure that an admin user approves every job run before they are executed against the production servers:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(32377).A+"",width:"960",height:"251"})}),"\n",(0,t.jsx)(s.p,{children:"You can add a title and a timeout (optional) for the approval:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(26128).A+"",width:"960",height:"363"})}),"\n",(0,t.jsxs)(s.p,{children:["Now every time this workflow is triggered, it will show up in the ",(0,t.jsx)(s.strong,{children:"Workflow Approvals"})," Menu for you to approve it's execution:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Ansible Tower Workflow",src:o(942487).A+"",width:"960",height:"366"})})]})}function p(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},429958:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_01-b2e081a137d9c7740328a326bd76880a.png"},211165:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_02-74939eb7b3526ce8e05db7654bc251b2.png"},990036:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_03-f65ffe842b91b86e38f79feb39c15075.png"},939947:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_04-d6f482283f1d86bafaf24c86f92533f9.png"},32377:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_06-6eac10e567f912dd99b4d648010d3d11.png"},26128:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_07-3ebe2bd5dba8e0b7bc02536d5ae86efb.png"},942487:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/Ansible_Tower_Workflow_08-7d503c9647a2f7e3111d6ddc2e35b706.png"},91758:(e,s,o)=>{o.d(s,{A:()=>t});const t=o.p+"assets/images/photo-456tdsfggd_67gfh6dgdf4_d-b49f667da58414bec69ffadab463f513.jpg"},28453:(e,s,o)=>{o.d(s,{R:()=>i,x:()=>l});var t=o(296540);const n={},r=t.createContext(n);function i(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);