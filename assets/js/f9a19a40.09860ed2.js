"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[14320],{270032:(e,s,a)=>{a.r(s),a.d(s,{assets:()=>i,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>o,toc:()=>l});var r=a(474848),n=a(28453);const c={sidebar_position:9040,slug:"2019-09-08",title:"Elasticsearch 7 with Docker Compose",authors:"mpolinowski",tags:["Docker","Databases","Elasticsearch"]},t=void 0,o={id:"DevOps/Elasticsearch/2019-09-08--elasticsearch_7-5_docker/index",title:"Elasticsearch 7 with Docker Compose",description:"ShenZhen, China",source:"@site/docs/DevOps/Elasticsearch/2019-09-08--elasticsearch_7-5_docker/index.mdx",sourceDirName:"DevOps/Elasticsearch/2019-09-08--elasticsearch_7-5_docker",slug:"/DevOps/Elasticsearch/2019-09-08--elasticsearch_7-5_docker/2019-09-08",permalink:"/docs/DevOps/Elasticsearch/2019-09-08--elasticsearch_7-5_docker/2019-09-08",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Elasticsearch/2019-09-08--elasticsearch_7-5_docker/index.mdx",tags:[{label:"Docker",permalink:"/docs/tags/docker"},{label:"Databases",permalink:"/docs/tags/databases"},{label:"Elasticsearch",permalink:"/docs/tags/elasticsearch"}],version:"current",sidebarPosition:9040,frontMatter:{sidebar_position:9040,slug:"2019-09-08",title:"Elasticsearch 7 with Docker Compose",authors:"mpolinowski",tags:["Docker","Databases","Elasticsearch"]},sidebar:"tutorialSidebar",previous:{title:"Elasticsearch in Docker",permalink:"/docs/DevOps/Elasticsearch/2020-06-01--elasticsearch-docker/2020-06-01"},next:{title:"Securing Elasticsearch with ReadOnlyREST",permalink:"/docs/DevOps/Elasticsearch/2018-01-01--securing-elasticsearch-readonlyrest/2018-01-01"}},i={},l=[];function d(e){const s={code:"code",img:"img",p:"p",pre:"pre",strong:"strong",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:(0,r.jsx)(s.img,{alt:"ShenZhen, China",src:a(124681).A+"",width:"1500",height:"532"})}),"\n",(0,r.jsxs)(s.p,{children:["Let's run a ",(0,r.jsx)(s.strong,{children:"Elasticsearch 7.5"})," as a single node cluster using Docker Compose with XPack disabled. To run the Elasticsearch 7 Docker image as a single node, you have to set ",(0,r.jsx)(s.code,{children:"discovery.type"})," to ",(0,r.jsx)(s.code,{children:"single-node"}),". At startup, the bootstrap checks are bypassed. The single node will elect itself as the master node and will not join a cluster with any other node."]}),"\n",(0,r.jsx)(s.p,{children:"A complete docker-compose.yml example to run a single node Elasticsearch 7 Cluster including Kibana:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-yaml",children:"version: '3.7'\r\n\r\nservices:\r\n\r\n  # Elasticsearch Docker Images: https://www.docker.elastic.co/\r\n  elasticsearch:\r\n    image: docker.elastic.co/elasticsearch/elasticsearch:7.5.0\r\n    container_name: elasticsearch\r\n    environment:\r\n      - xpack.security.enabled=false\r\n      - discovery.type=single-node\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n      nofile:\r\n        soft: 65536\r\n        hard: 65536\r\n    cap_add:\r\n      - IPC_LOCK\r\n    volumes:\r\n      - elasticsearch-data:/usr/share/elasticsearch/data\r\n    ports:\r\n      - 9200:9200\r\n      - 9300:9300\r\n\r\n  kibana:\r\n    container_name: kibana\r\n    image: docker.elastic.co/kibana/kibana:7.5.0\r\n    environment:\r\n      - ELASTICSEARCH_HOSTS=http://elasticsearch:9200\r\n    ports:\r\n      - 5601:5601\r\n    depends_on:\r\n      - elasticsearch\r\n\r\nvolumes:\r\n  elasticsearch-data:\r\n    driver: local\n"})}),"\n",(0,r.jsx)(s.p,{children:"Start Elasticsearch and Kibana using Docker Compose:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,r.jsxs)(s.p,{children:["Your Elasticsearch node will startup now, and after a couple of seconds, you can reach it at ",(0,r.jsx)(s.code,{children:"http://localhost:9200/"}),". Kibana should be running at ",(0,r.jsx)(s.code,{children:"http://localhost:5601"})," now. To shut down Elasticsearch and Kibana run:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"docker-compose down\n"})}),"\n",(0,r.jsx)(s.p,{children:"In case you also would like to remove the docker volume while shutting down run:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"docker-compose down -v\n"})})]})}function h(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},124681:(e,s,a)=>{a.d(s,{A:()=>r});const r=a.p+"assets/images/photo-kt456d_645dhfh6dgjkhg4_d-94666784e306fd05a35924b00a5f3c3f.jpg"},28453:(e,s,a)=>{a.d(s,{R:()=>t,x:()=>o});var r=a(296540);const n={},c=r.createContext(n);function t(e){const s=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),r.createElement(c.Provider,{value:s},e.children)}}}]);