"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[28527],{98337:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>o,frontMatter:()=>c,metadata:()=>a,toc:()=>h});var r=i(785893),s=i(603905);const c={sidebar_position:8980,slug:"2022-10-12",title:"Python - RE",authors:"mpolinowski",tags:["Python"],description:"Using Regular Expressions with Python."},t=void 0,a={id:"Development/Python/2022-10-12-python-regular-expressions/index",title:"Python - RE",description:"Using Regular Expressions with Python.",source:"@site/docs/Development/Python/2022-10-12-python-regular-expressions/index.md",sourceDirName:"Development/Python/2022-10-12-python-regular-expressions",slug:"/Development/Python/2022-10-12-python-regular-expressions/2022-10-12",permalink:"/docs/Development/Python/2022-10-12-python-regular-expressions/2022-10-12",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Python/2022-10-12-python-regular-expressions/index.md",tags:[{label:"Python",permalink:"/docs/tags/python"}],version:"current",sidebarPosition:8980,frontMatter:{sidebar_position:8980,slug:"2022-10-12",title:"Python - RE",authors:"mpolinowski",tags:["Python"],description:"Using Regular Expressions with Python."},sidebar:"tutorialSidebar",previous:{title:"Python - Working with REST API Requests",permalink:"/docs/Development/Python/2022-10-13-python-rest-api/2022-10-13"},next:{title:"Python - The Filesystem",permalink:"/docs/Development/Python/2022-10-10-python-filesystem/2022-10-10"}},l={},h=[{value:"Regular Expressions",id:"regular-expressions",level:2},{value:"Metacharacters",id:"metacharacters",level:3},{value:"Special Sequences",id:"special-sequences",level:3},{value:"Sets",id:"sets",level:3},{value:"Examples",id:"examples",level:2},{value:"Filenames",id:"filenames",level:3},{value:"Filepaths",id:"filepaths",level:3},{value:"Email Addresses",id:"email-addresses",level:3},{value:"Email Addresses",id:"email-addresses-1",level:3},{value:"IP Addresses",id:"ip-addresses",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.ah)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Sham Sui Po, Hong Kong",src:i(524911).Z+"",width:"1500",height:"548"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#regular-expressions",children:"Regular Expressions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#metacharacters",children:"Metacharacters"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#special-sequences",children:"Special Sequences"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#sets",children:"Sets"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"#examples",children:"Examples"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#filenames",children:"Filenames"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#filepaths",children:"Filepaths"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#email-addresses",children:"Email Addresses"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#email-addresses-1",children:"Email Addresses"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#ip-addresses",children:"IP Addresses"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/mpolinowski/python-re",children:"Github Repository"})}),"\n",(0,r.jsx)(n.h2,{id:"regular-expressions",children:"Regular Expressions"}),"\n",(0,r.jsx)(n.h3,{id:"metacharacters",children:"Metacharacters"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[]"}),": A set of characters ",(0,r.jsx)(n.code,{children:"[a-m]"})," - remove brackets to get sequential matches ",(0,r.jsx)(n.code,{children:"[arm]"})," vs ",(0,r.jsx)(n.code,{children:"arm"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\"}),": Signals a special sequence (can also be used to escape special characters) ",(0,r.jsx)(n.code,{children:"\\d"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"."}),": Any character (except newline character) ",(0,r.jsx)(n.code,{children:"he..o"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"^"}),": Starts with ",(0,r.jsx)(n.code,{children:"^hello"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"$"}),": Ends with ",(0,r.jsx)(n.code,{children:"planet$"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"*"}),": Zero or more occurrences ",(0,r.jsx)(n.code,{children:"he.*o"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"+"}),": One or more occurrences ",(0,r.jsx)(n.code,{children:"he.+o"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"?"}),": Zero or one occurrences ",(0,r.jsx)(n.code,{children:"he.?o"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"{}"}),": Exactly the specified number of occurrences ",(0,r.jsx)(n.code,{children:"he.{2}o"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"{n,m}"}),": Match between ",(0,r.jsx)(n.code,{children:"n"})," and ",(0,r.jsx)(n.code,{children:"m"})," number of occurrences ",(0,r.jsx)(n.code,{children:"he.{1,2}o"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"|"}),": Either or ",(0,r.jsx)(n.code,{children:"falls|stay"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"special-sequences",children:"Special Sequences"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\d"}),": Matches any decimal digit; this is equivalent to the class ",(0,r.jsx)(n.code,{children:"[0-9]"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\D"}),": Matches any non-digit character; this is equivalent to the class ",(0,r.jsx)(n.code,{children:"[^0-9]"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\s"}),": Matches any whitespace character; this is equivalent to the class ",(0,r.jsx)(n.code,{children:"[ \\t\\n\\r\\f\\v]"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\S"}),": Matches any non-whitespace character; this is equivalent to the class ",(0,r.jsx)(n.code,{children:"[^ \\t\\n\\r\\f\\v]"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\w"}),": Matches any alphanumeric character; this is equivalent to the class ",(0,r.jsx)(n.code,{children:"[a-zA-Z0-9_]"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\W"}),": Matches any non-alphanumeric character; this is equivalent to the class ",(0,r.jsx)(n.code,{children:"[^a-zA-Z0-9_]"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\A"}),": Returns a match if the specified characters are at the beginning of the string ",(0,r.jsx)(n.code,{children:"\\AThe"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\b"}),": Returns a match where the specified characters are at the beginning or at the end of a word\n(the ",(0,r.jsx)(n.code,{children:'r"'})," in the beginning is making sure that the string is being treated as a raw string)",(0,r.jsx)(n.code,{children:'r"\\bain"'}),"\n",(0,r.jsx)(n.code,{children:'r"ain"\\b'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\B"}),": Returns a match where the specified characters are present, but NOT at the beginning (or at the end) of a word (the ",(0,r.jsx)(n.code,{children:'r"'})," in the beginning is making sure that the string is being treated as a raw string",(0,r.jsx)(n.code,{children:") "}),'r"\\Bain"',(0,r.jsx)(n.code,{children:" "}),'r"ain\\B`']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\Z"}),": Returns a match if the specified characters are at the end of the string ",(0,r.jsx)(n.code,{children:"Spain\\Z"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sets",children:"Sets"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[arn]"}),": Returns a match where one of the specified characters (a, r, or n) is present"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[a-n]"}),": Returns a match for any lower case character, alphabetically between a and n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[^arn]"}),": Returns a match for any character EXCEPT a, r, and n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[0123]"}),": Returns a match where any of the specified digits (0, 1, 2, or 3) are present"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[0-9]"}),": Returns a match for any digit between 0 and 9"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[0-5][0-9]"}),": Returns a match for any two-digit numbers from 00 and 59"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[a-zA-Z]"}),": Returns a match for any character alphabetically between a and z, lower case OR upper case"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[+]"}),": In sets, +, *, ., |, (), $,"," has no special meaning, so [+] means: return a match for any + character in the string"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.h3,{id:"filenames",children:"Filenames"}),"\n",(0,r.jsx)(n.p,{children:"Search for strings in filenames:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:'import re\n\nfrom html_source import html\n\nfiles = [\n    "2022-10-13_archive.zip",\n    "2022-10-13.txt",\n    "2022-09-30_archive.zip",\n    "2022-09-30.txt",\n    "2022-09-15_archive.zip",\n    "2022-09-15.txt"\n    ]\n\n# get archives from a specified month\n\nfor path in files:\n    archive_match = re.search("[^ ]+_archive.zip", path)\n    # skip none archives\n    if archive_match != None:\n        # search for date\n        if "2022-09-" in archive_match.string: \n            print(archive_match.string)\n            \n# => 2022-09-30_archive.zip\n# => 2022-09-15_archive.zip\n'})}),"\n",(0,r.jsx)(n.h3,{id:"filepaths",children:"Filepaths"}),"\n",(0,r.jsx)(n.p,{children:"Get archives from a specified month from path"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"import re\nfrom pathlib import Path\n\nroot_dir = Path('files')\nfilenames = root_dir.iterdir()\nfile_list = list(filenames)\n# print(file_list)\nfiles = [file.name for file in file_list]\n# print(files)\n\nzip_pattern = re.compile('[0-9]{4}-[0-9]{2}-[0-9]{2}_archive.zip')\ndate_pattern = re.compile('2022-09[^ ]+')\n\n# filter all non-zip files\nmatching_container = [file for file in files if zip_pattern.findall(file)]\n# get zip files of specific date\nmatching_date = [file for file in matching_container if date_pattern.findall(file)]\n\nprint(matching_date)\n# => ['2022-09-15_archive.zip', '2022-09-30_archive.zip']\n"})}),"\n",(0,r.jsx)(n.h3,{id:"email-addresses",children:"Email Addresses"}),"\n",(0,r.jsx)(n.p,{children:"Extract Emails from text:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:'import re\n\ntext = "Spicy jalapeno_bacon@ipsum.com dolor amet turducken biltong frankfurter shankle porchetta. Tail buffalo anim, capicola eiusmod cupim beef ribs tenderloin shank@beef.br biltong. Laboris meatloaf swine, esse cillum est sausage t-bone dolor adipisicing ex-corned@beef.co.uk aliqua porchetta. Boudin fatback chuck meatball laborum meatloaf ground round, filet mignon.prosciutto@shankle.nz pig."\n'})}),"\n",(0,r.jsxs)(n.p,{children:["For Emails that only use characters from ",(0,r.jsx)(n.code,{children:"a"})," to ",(0,r.jsx)(n.code,{children:"z"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"# [a-z] = match 1 letter between a-z\n# [a-z]+ = match n letter between a-z\nemail_pattern = re.compile(\"[a-z]+@[a-z]+.[a-z]+\")\nemail_matches = email_pattern.findall(text)\nprint(email_matches)\n# => ['bacon@ipsum.com', 'shank@beef.br', 'corned@beef.co', 'prosciutto@shankle.nz']\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[^ ]"})," : Match everything but white space"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\."}),' : Match a "dot" (escaping the ',(0,r.jsx)(n.code,{children:"."})," meta character)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"{2,}"})," : TLD has 2 or more characters"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"email2_pattern = re.compile(\"[^ ]+@[^ ]+\\.[a-z]{2,}\")\nemail2_matches = email2_pattern.findall(text)\nprint(email2_matches)\n# => ['jalapeno_bacon@ipsum.com ', 'shank@beef.br ', 'ex-corned@beef.co.uk ', 'mignon.prosciutto@shankle.nz ']\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"(?:com|co.uk)"})," : Match only co.uk and com addresses"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"email3_pattern = re.compile(\"[^ ]+@[^ ]+\\.(?:com|co.uk)\")\nemail3_matches = email3_pattern.findall(text)\n# => ['jalapeno_bacon@ipsum.com', 'ex-corned@beef.co.uk']\nprint(email3_matches)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"email-addresses-1",children:"Email Addresses"}),"\n",(0,r.jsxs)(n.p,{children:["Only extract ",(0,r.jsx)(n.code,{children:".com"})," URLs from html:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"https?"})," : match http and https"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"(?:www.)?"})," : match with or w/o www"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"[^ ]+"})," : match everything but white space"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"\\.com/"})," : only match .com urls"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'[^ ][^"]+'}),' : break when you hit a white space or "']}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"from html_source import html\n\nurl_pattern = re.compile('https?://(?:www.)?[^ ]+\\.com/[^ ][^\"]+')\nurl_matches = url_pattern.findall(html)\nprint(url_matches)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ip-addresses",children:"IP Addresses"}),"\n",(0,r.jsx)(n.p,{children:"Extract specific IPs from file:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-py",children:"ip_file = 'ip.txt'\n\nwith open(ip_file, 'r') as file:\n    file_content = file.read()\n\n# only match ip addresses with a 2 in the third octet\nip_pattern = re.compile(\"[0-9]{3}\\.[0-9]{3}\\.2\\.[0-9]{3}\")\nip_matches = ip_pattern.findall(file_content)\nprint(ip_matches)\n"})})]})}function o(e={}){const{wrapper:n}={...(0,s.ah)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},603905:(e,n,i)=>{i.d(n,{ah:()=>h});var r=i(667294);function s(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function c(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function t(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?c(Object(i),!0).forEach((function(n){s(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function a(e,n){if(null==e)return{};var i,r,s=function(e,n){if(null==e)return{};var i,r,s={},c=Object.keys(e);for(r=0;r<c.length;r++)i=c[r],n.indexOf(i)>=0||(s[i]=e[i]);return s}(e,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)i=c[r],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}var l=r.createContext({}),h=function(e){var n=r.useContext(l),i=n;return e&&(i="function"==typeof e?e(n):t(t({},n),e)),i},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},o=r.forwardRef((function(e,n){var i=e.components,s=e.mdxType,c=e.originalType,l=e.parentName,o=a(e,["components","mdxType","originalType","parentName"]),p=h(i),x=s,m=p["".concat(l,".").concat(x)]||p[x]||d[x]||c;return i?r.createElement(m,t(t({ref:n},o),{},{components:i})):r.createElement(m,t({ref:n},o))}));o.displayName="MDXCreateElement"},524911:(e,n,i)=>{i.d(n,{Z:()=>r});const r=i.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-5f44d483789c3ce79f05418f930f5cd2.jpg"}}]);