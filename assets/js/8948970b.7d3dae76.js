"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[39224],{76607:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var t=r(474848),s=r(28453);const i={sidebar_position:7090,slug:"2021-02-14",title:"Next.js in 2021",authors:"mpolinowski",tags:["Javascript","React","Next"]},o=void 0,a={id:"Development/Javascript/2021-02-14-next-js-2021/index",title:"Next.js in 2021",description:"Jomson, Nepal",source:"@site/docs/Development/Javascript/2021-02-14-next-js-2021/index.md",sourceDirName:"Development/Javascript/2021-02-14-next-js-2021",slug:"/Development/Javascript/2021-02-14-next-js-2021/2021-02-14",permalink:"/docs/Development/Javascript/2021-02-14-next-js-2021/2021-02-14",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2021-02-14-next-js-2021/index.md",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"React",permalink:"/docs/tags/react"},{label:"Next",permalink:"/docs/tags/next"}],version:"current",sidebarPosition:7090,frontMatter:{sidebar_position:7090,slug:"2021-02-14",title:"Next.js in 2021",authors:"mpolinowski",tags:["Javascript","React","Next"]},sidebar:"tutorialSidebar",previous:{title:"Electron for Cross Platform Applications",permalink:"/docs/Development/Javascript/2021-05-07-electron-cross-platform-apps/2021-05-07"},next:{title:"Web traffic redirection with Node and Express on CentOS8",permalink:"/docs/Development/Javascript/2020-01-12--node-express-redirect-server/2020-01-12"}},d={},l=[{value:"Project Setup",id:"project-setup",level:2},{value:"Add Typescript",id:"add-typescript",level:3},{value:"Add Prettier",id:"add-prettier",level:3},{value:"Add BaseURLs for Imports",id:"add-baseurls-for-imports",level:3},{value:"Deployment",id:"deployment",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Jomson, Nepal",src:r(182997).A+"",width:"1500",height:"661"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#project-setup",children:"Project Setup"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#add-typescript",children:"Add Typescript"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#add-prettier",children:"Add Prettier"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#add-baseurls-for-imports",children:"Add BaseURLs for Imports"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#adding-frontmatter",children:"Adding Frontmatter"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#mdx-rendering",children:"MDX Rendering"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#fetching-blog-posts---",children:"Fetching Blog Posts --\x3e"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#deployment",children:"Deployment"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://github.com/mpolinowski/nextjs-blog",children:"Repository"})}),"\n",(0,t.jsx)(n.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx create-next-app\r\n\r\nnpx: installed 1 in 4.003s\r\n\r\n\u221a What is your project named? ... next-blog\r\nCreating a new Next.js app in E:\\next-blog\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd next-blog\r\ngit init\r\nnpm run dev\r\n\r\nready - started server on 0.0.0.0:3000, url: http://localhost:3000\n"})}),"\n",(0,t.jsx)(n.h3,{id:"add-typescript",children:"Add Typescript"}),"\n",(0,t.jsxs)(n.p,{children:["Create a file in your app root called ",(0,t.jsx)(n.code,{children:"tsconfig.json"})," and install the dependencies and restart the server:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install -D typescript @types/react @types/node\r\n\r\nnpm run dev\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Next.js will automatically add some TS configuration the the config file. To start using Typescript rename the default ",(0,t.jsx)(n.code,{children:"_app.js"})," to ",(0,t.jsx)(n.code,{children:"_app.tsx"})," and import the default types that come with the Next.js starter app:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import {AppProps} from 'next/app'\r\n\r\nimport '../styles/globals.css'\r\n\r\nfunction MyApp({ Component, pageProps }: AppProps) {\r\n  return <Component {...pageProps} />\r\n}\r\n\r\nexport default MyApp\n"})}),"\n",(0,t.jsx)(n.h3,{id:"add-prettier",children:"Add Prettier"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm i -D prettier\n"})}),"\n",(0,t.jsxs)(n.p,{children:["You can add ",(0,t.jsx)(n.a,{href:"https://prettier.io/docs/en/options.html",children:"Prettier configuration"})," to your ",(0,t.jsx)(n.code,{children:"package.json"})," file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'"prettier": {\r\n    "semi": false,\r\n    "singleQuote": true,\r\n    "jsxBracketSameLine": true,\r\n    "requirePragma": true,\r\n    "insertPragma": true\r\n  },\r\n  "devDependencies": {\r\n    "@types/node": "^14.14.41",\r\n    "@types/react": "^17.0.3",\r\n    "prettier": "^2.2.1",\r\n    "typescript": "^4.2.4"\r\n  }\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Set VS Code ",(0,t.jsx)(n.strong,{children:"Editor: Default Formatter"})," to Prettier (In Settings ",(0,t.jsx)(n.code,{children:"Ctrl+,"})," search for ",(0,t.jsx)(n.code,{children:"formatter"}),") - make sure the ",(0,t.jsx)(n.a,{href:"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode",children:"Prettier Extension"})," is installed."]}),"\n",(0,t.jsx)(n.h3,{id:"add-baseurls-for-imports",children:"Add BaseURLs for Imports"}),"\n",(0,t.jsxs)(n.p,{children:["Add the following Typescript configuration to ",(0,t.jsx)(n.code,{children:"tsconfig.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\r\n  "compilerOptions": {\r\n    "baseUrl": "./",\r\n    "paths": {\r\n      "@components/*": ["components/*"],\r\n      "@styles/*": ["styles/*"]\r\n    },\r\n\r\n  ...\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can now import directly from those paths and no longer have to work with relative paths:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import styles from '@styles/Home.module.css'\r\nimport Header from '@components/header'\n"})}),"\n",(0,t.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"npm scripts"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'"scripts": {\r\n    "dev": "next dev",\r\n    "build": "next build",\r\n    "start": "next start",\r\n    "export": "next export"\r\n  }\n'})}),"\n",(0,t.jsxs)(n.p,{children:["You can run your Next.js App on a [Node Server](Node.js Server). ",(0,t.jsx)(n.code,{children:"npm run build"})," builds the production application in the ",(0,t.jsx)(n.strong,{children:".next folder"}),". After building, ",(0,t.jsx)(n.code,{children:"npm run start"})," starts a Node.js server that supports hybrid pages, serving both statically generated and server-side rendered pages. In production this can be done in a CI pipeline in ",(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/deployment#docker-image",children:"Docker"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["Coming from Gatsby.js I am more interested in getting the ",(0,t.jsx)(n.a,{href:"https://nextjs.org/docs/advanced-features/static-html-export#how-to-use-it",children:"static build"})," out of Next.js. For this run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm run build\r\nnpm run export\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Then you'll have a static version of your app in the ",(0,t.jsx)(n.code,{children:"out"})," directory."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},182997:(e,n,r)=>{r.d(n,{A:()=>t});const t=r.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-857bf130225afaf92418cf5562e731b9.jpg"},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var t=r(296540);const s={},i=t.createContext(s);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);