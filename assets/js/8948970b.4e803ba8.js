"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[75176],{19725:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var n=t(785893),s=t(603905);const i={sidebar_position:7090,slug:"2021-02-14",title:"Next.js in 2021",authors:"mpolinowski",tags:["Javascript","React","Next"]},o=void 0,a={id:"Development/Javascript/2021-02-14-next-js-2021/index",title:"Next.js in 2021",description:"Jomson, Nepal",source:"@site/docs/Development/Javascript/2021-02-14-next-js-2021/index.md",sourceDirName:"Development/Javascript/2021-02-14-next-js-2021",slug:"/Development/Javascript/2021-02-14-next-js-2021/2021-02-14",permalink:"/docs/Development/Javascript/2021-02-14-next-js-2021/2021-02-14",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2021-02-14-next-js-2021/index.md",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"React",permalink:"/docs/tags/react"},{label:"Next",permalink:"/docs/tags/next"}],version:"current",sidebarPosition:7090,frontMatter:{sidebar_position:7090,slug:"2021-02-14",title:"Next.js in 2021",authors:"mpolinowski",tags:["Javascript","React","Next"]},sidebar:"tutorialSidebar",previous:{title:"Electron for Cross Platform Applications",permalink:"/docs/Development/Javascript/2021-05-07-electron-cross-platform-apps/2021-05-07"},next:{title:"Web traffic redirection with Node and Express on CentOS8",permalink:"/docs/Development/Javascript/2020-01-12--node-express-redirect-server/2020-01-12"}},c={},l=[{value:"Project Setup",id:"project-setup",level:2},{value:"Add Typescript",id:"add-typescript",level:3},{value:"Add Prettier",id:"add-prettier",level:3},{value:"Add BaseURLs for Imports",id:"add-baseurls-for-imports",level:3},{value:"Deployment",id:"deployment",level:2}];function d(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.ah)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"Jomson, Nepal",src:t(161548).Z+"",width:"1500",height:"661"})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.a,{href:"#project-setup",children:"Project Setup"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#add-typescript",children:"Add Typescript"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#add-prettier",children:"Add Prettier"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#add-baseurls-for-imports",children:"Add BaseURLs for Imports"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#adding-frontmatter",children:"Adding Frontmatter"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#mdx-rendering",children:"MDX Rendering"})}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#fetching-blog-posts---",children:"Fetching Blog Posts --\x3e"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.li,{children:(0,n.jsx)(r.a,{href:"#deployment",children:"Deployment"})}),"\n"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.a,{href:"https://github.com/mpolinowski/nextjs-blog",children:"Repository"})}),"\n",(0,n.jsx)(r.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"npx create-next-app\r\n\r\nnpx: installed 1 in 4.003s\r\n\r\n\u221a What is your project named? ... next-blog\r\nCreating a new Next.js app in E:\\next-blog\n"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"cd next-blog\r\ngit init\r\nnpm run dev\r\n\r\nready - started server on 0.0.0.0:3000, url: http://localhost:3000\n"})}),"\n",(0,n.jsx)(r.h3,{id:"add-typescript",children:"Add Typescript"}),"\n",(0,n.jsxs)(r.p,{children:["Create a file in your app root called ",(0,n.jsx)(r.code,{children:"tsconfig.json"})," and install the dependencies and restart the server:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"npm install -D typescript @types/react @types/node\r\n\r\nnpm run dev\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Next.js will automatically add some TS configuration the the config file. To start using Typescript rename the default ",(0,n.jsx)(r.code,{children:"_app.js"})," to ",(0,n.jsx)(r.code,{children:"_app.tsx"})," and import the default types that come with the Next.js starter app:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:"import {AppProps} from 'next/app'\r\n\r\nimport '../styles/globals.css'\r\n\r\nfunction MyApp({ Component, pageProps }: AppProps) {\r\n  return <Component {...pageProps} />\r\n}\r\n\r\nexport default MyApp\n"})}),"\n",(0,n.jsx)(r.h3,{id:"add-prettier",children:"Add Prettier"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"npm i -D prettier\n"})}),"\n",(0,n.jsxs)(r.p,{children:["You can add ",(0,n.jsx)(r.a,{href:"https://prettier.io/docs/en/options.html",children:"Prettier configuration"})," to your ",(0,n.jsx)(r.code,{children:"package.json"})," file:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-json",children:'"prettier": {\r\n    "semi": false,\r\n    "singleQuote": true,\r\n    "jsxBracketSameLine": true,\r\n    "requirePragma": true,\r\n    "insertPragma": true\r\n  },\r\n  "devDependencies": {\r\n    "@types/node": "^14.14.41",\r\n    "@types/react": "^17.0.3",\r\n    "prettier": "^2.2.1",\r\n    "typescript": "^4.2.4"\r\n  }\n'})}),"\n",(0,n.jsxs)(r.p,{children:["Set VS Code ",(0,n.jsx)(r.strong,{children:"Editor: Default Formatter"})," to Prettier (In Settings ",(0,n.jsx)(r.code,{children:"Ctrl+,"})," search for ",(0,n.jsx)(r.code,{children:"formatter"}),") - make sure the ",(0,n.jsx)(r.a,{href:"https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode",children:"Prettier Extension"})," is installed."]}),"\n",(0,n.jsx)(r.h3,{id:"add-baseurls-for-imports",children:"Add BaseURLs for Imports"}),"\n",(0,n.jsxs)(r.p,{children:["Add the following Typescript configuration to ",(0,n.jsx)(r.code,{children:"tsconfig.json"}),":"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-json",children:'{\r\n  "compilerOptions": {\r\n    "baseUrl": "./",\r\n    "paths": {\r\n      "@components/*": ["components/*"],\r\n      "@styles/*": ["styles/*"]\r\n    },\r\n\r\n  ...\n'})}),"\n",(0,n.jsx)(r.p,{children:"You can now import directly from those paths and no longer have to work with relative paths:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-js",children:"import styles from '@styles/Home.module.css'\r\nimport Header from '@components/header'\n"})}),"\n",(0,n.jsx)(r.h2,{id:"deployment",children:"Deployment"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"npm scripts"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-json",children:'"scripts": {\r\n    "dev": "next dev",\r\n    "build": "next build",\r\n    "start": "next start",\r\n    "export": "next export"\r\n  }\n'})}),"\n",(0,n.jsxs)(r.p,{children:["You can run your Next.js App on a [Node Server](Node.js Server). ",(0,n.jsx)(r.code,{children:"npm run build"})," builds the production application in the ",(0,n.jsx)(r.strong,{children:".next folder"}),". After building, ",(0,n.jsx)(r.code,{children:"npm run start"})," starts a Node.js server that supports hybrid pages, serving both statically generated and server-side rendered pages. In production this can be done in a CI pipeline in ",(0,n.jsx)(r.a,{href:"https://nextjs.org/docs/deployment#docker-image",children:"Docker"}),"."]}),"\n",(0,n.jsxs)(r.p,{children:["Coming from Gatsby.js I am more interested in getting the ",(0,n.jsx)(r.a,{href:"https://nextjs.org/docs/advanced-features/static-html-export#how-to-use-it",children:"static build"})," out of Next.js. For this run:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"npm run build\r\nnpm run export\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Then you'll have a static version of your app in the ",(0,n.jsx)(r.code,{children:"out"})," directory."]})]})}function p(e={}){const{wrapper:r}={...(0,s.ah)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},603905:(e,r,t)=>{t.d(r,{ah:()=>l});var n=t(667294);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function a(e,r){if(null==e)return{};var t,n,s=function(e,r){if(null==e)return{};var t,n,s={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||(s[t]=e[t]);return s}(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var c=n.createContext({}),l=function(e){var r=n.useContext(c),t=r;return e&&(t="function"==typeof e?e(r):o(o({},r),e)),t},d={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},p=n.forwardRef((function(e,r){var t=e.components,s=e.mdxType,i=e.originalType,c=e.parentName,p=a(e,["components","mdxType","originalType","parentName"]),h=l(t),u=s,m=h["".concat(c,".").concat(u)]||h[u]||d[u]||i;return t?n.createElement(m,o(o({ref:r},p),{},{components:t})):n.createElement(m,o({ref:r},p))}));p.displayName="MDXCreateElement"},161548:(e,r,t)=>{t.d(r,{Z:()=>n});const n=t.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-857bf130225afaf92418cf5562e731b9.jpg"}}]);