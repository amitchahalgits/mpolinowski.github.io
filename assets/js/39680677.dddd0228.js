"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[56293],{158798:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>h,contentTitle:()=>a,default:()=>l,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var t=s(474848),r=s(28453);const i={sidebar_position:9080,slug:"2019-01-11",title:"Debian SSH Port and Hostname",authors:"mpolinowski",tags:["LINUX"]},a=void 0,o={id:"DevOps/Linux/2019-01-11--debian-change-ssh-port-hostname/index",title:"Debian SSH Port and Hostname",description:"Battambang, Cambodia",source:"@site/docs/DevOps/Linux/2019-01-11--debian-change-ssh-port-hostname/index.md",sourceDirName:"DevOps/Linux/2019-01-11--debian-change-ssh-port-hostname",slug:"/DevOps/Linux/2019-01-11--debian-change-ssh-port-hostname/2019-01-11",permalink:"/docs/DevOps/Linux/2019-01-11--debian-change-ssh-port-hostname/2019-01-11",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Linux/2019-01-11--debian-change-ssh-port-hostname/index.md",tags:[{label:"LINUX",permalink:"/docs/tags/linux"}],version:"current",sidebarPosition:9080,frontMatter:{sidebar_position:9080,slug:"2019-01-11",title:"Debian SSH Port and Hostname",authors:"mpolinowski",tags:["LINUX"]},sidebar:"tutorialSidebar",previous:{title:"Ubuntu Server Root SSH Remote Access",permalink:"/docs/DevOps/Linux/2019-01-11--root-access-ubuntu-server/2019-01-11"},next:{title:"Red Hat Certified Engineer (RHCE) Exam",permalink:"/docs/DevOps/Linux/2018-10-27--red-hat-certified-engineer-rhce/2018-10-27"}},h={},c=[{value:"Changing the SSH Port",id:"changing-the-ssh-port",level:2},{value:"Adjusting Firewall",id:"adjusting-firewall",level:3},{value:"Configuring SSH",id:"configuring-ssh",level:3},{value:"Change the Hostname",id:"change-the-hostname",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Battambang, Cambodia",src:s(706006).A+"",width:"1500",height:"640"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"#changing-the-ssh-port",children:"Changing the SSH Port"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#adjusting-firewall",children:"Adjusting Firewall"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#configuring-ssh",children:"Configuring SSH"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"#change-the-hostname",children:"Change the Hostname"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"changing-the-ssh-port",children:"Changing the SSH Port"}),"\n",(0,t.jsx)(n.h3,{id:"adjusting-firewall",children:"Adjusting Firewall"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo firewall-cmd --permanent --zone=public --add-port=34567/tcp\r\nsudo firewall-cmd --reload\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuring-ssh",children:"Configuring SSH"}),"\n",(0,t.jsxs)(n.p,{children:["Open the SSH configuration file ",(0,t.jsx)(n.code,{children:"/etc/ssh/sshd_config"})," with your text editor:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo vim /etc/ssh/sshd_config\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Search for the line starting with Port ",(0,t.jsx)(n.code,{children:"22"}),". In most cases, this line starts with a ",(0,t.jsx)(n.code,{children:"#"})," character. Remove the hash and enter the new SSH port number ",(0,t.jsx)(n.code,{children:"23456"}),". Once done, save the file and restart the SSH service to apply the changes:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"sudo systemctl restart sshd\n"})}),"\n",(0,t.jsxs)(n.p,{children:["To verify that SSH daemon is listening on the new port ",(0,t.jsx)(n.code,{children:"23456"}),", type:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"netstat -ntlp\r\n\r\nActive Internet connections (only servers)\r\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \r\ntcp        0      0 0.0.0.0:23456           0.0.0.0:*               LISTEN      12271/sshd\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Now test that you are able to connect to via the new port ",(0,t.jsx)(n.strong,{children:"BEFORE"})," exiting your current session ",(0,t.jsx)(n.code,{children:":)"})," :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ssh -p 23456 username@remote_host_or_ip\n"})}),"\n",(0,t.jsx)(n.h2,{id:"change-the-hostname",children:"Change the Hostname"}),"\n",(0,t.jsxs)(n.p,{children:["To set the hostname to ",(0,t.jsx)(n.code,{children:"myserver"}),", run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"hostnamectl set-hostname myserver\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Edit the file ",(0,t.jsx)(n.code,{children:"/etc/hosts"})," and update entries still using the old hostname:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"nano /etc/hosts\n"})}),"\n",(0,t.jsx)(n.p,{children:"Verify it by running:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"hostnamectl\r\n\r\n   Static hostname: myserver\r\n  Operating System: Debian GNU/Linux 10 (buster)\r\n            Kernel: Linux 4.19.0-10-amd64\r\n      Architecture: x86-64\n"})})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},706006:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/photo-19196703263_69f9f0df5f_o-14170a50fbe2ab4a9cbd78f18092a158.jpg"},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var t=s(296540);const r={},i=t.createContext(r);function a(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);