"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[4682],{984299:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>o});var s=l(474848),i=l(28453);const r={sidebar_position:9050,slug:"2020-07-28",title:"Securing Webservers - Uncomplicated Firewall",authors:"mpolinowski",tags:["LINUX","Security","ufw"]},a=void 0,t={id:"DevOps/Security/2020-07-28--uncomplicated-firewall-ufw/index",title:"Securing Webservers - Uncomplicated Firewall",description:"TST, Hong Kong",source:"@site/docs/DevOps/Security/2020-07-28--uncomplicated-firewall-ufw/index.md",sourceDirName:"DevOps/Security/2020-07-28--uncomplicated-firewall-ufw",slug:"/DevOps/Security/2020-07-28--uncomplicated-firewall-ufw/2020-07-28",permalink:"/docs/DevOps/Security/2020-07-28--uncomplicated-firewall-ufw/2020-07-28",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/DevOps/Security/2020-07-28--uncomplicated-firewall-ufw/index.md",tags:[{label:"LINUX",permalink:"/docs/tags/linux"},{label:"Security",permalink:"/docs/tags/security"},{label:"ufw",permalink:"/docs/tags/ufw"}],version:"current",sidebarPosition:9050,frontMatter:{sidebar_position:9050,slug:"2020-07-28",title:"Securing Webservers - Uncomplicated Firewall",authors:"mpolinowski",tags:["LINUX","Security","ufw"]},sidebar:"tutorialSidebar",previous:{title:"Analyzing and Decrypting TLS with Wireshark",permalink:"/docs/DevOps/Security/2022-09-27--wireshark-with-tls-encryption/2022-09-27"},next:{title:"Securing Webservers - Fail2Ban Ubuntu 20.10",permalink:"/docs/DevOps/Security/2020-07-28--fail2ban-ubuntu-server/2020-07-28"}},d={},o=[{value:"Installation",id:"installation",level:2},{value:"Ubuntu / Debian",id:"ubuntu--debian",level:3},{value:"CentOS",id:"centos",level:3},{value:"Arch",id:"arch",level:3},{value:"Snap App",id:"snap-app",level:3},{value:"Firewall Rules",id:"firewall-rules",level:2},{value:"Default Policies",id:"default-policies",level:3},{value:"Adding Services",id:"adding-services",level:3},{value:"Adding Ports",id:"adding-ports",level:3},{value:"Removing Rules",id:"removing-rules",level:3},{value:"Allowed Hosts",id:"allowed-hosts",level:3},{value:"Blocking Ports or Hosts",id:"blocking-ports-or-hosts",level:3},{value:"Disabling or Resetting UFW",id:"disabling-or-resetting-ufw",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"TST, Hong Kong",src:l(996721).A+"",width:"1500",height:"517"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#installation",children:"Installation"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#ubuntu--debian",children:"Ubuntu / Debian"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#centos",children:"CentOS"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#arch",children:"Arch"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#snap-app",children:"Snap App"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"#firewall-rules",children:"Firewall Rules"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#default-policies",children:"Default Policies"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#adding-services",children:"Adding Services"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#adding-ports",children:"Adding Ports"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#removing-rules",children:"Removing Rules"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#allowed-hosts",children:"Allowed Hosts"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#blocking-ports-or-hosts",children:"Blocking Ports or Hosts"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"#disabling-or-resetting-ufw",children:"Disabling or Resetting UFW"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.a,{href:"https://wiki.ubuntu.com/UncomplicatedFirewall",children:"Uncomplicated Firewall (ufw)"})," is a frontend for iptables and is particularly well-suited for host-based firewalls. ufw provides a framework for managing netfilter, as well as a command-line interface for manipulating the firewall. ufw aims to provide an easy to use interface for people unfamiliar with firewall concepts, while at the same time simplifies complicated iptables commands to help an adminstrator who knows what he or she is doing. ufw is an upstream for other distributions and graphical frontends."]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(n.h3,{id:"ubuntu--debian",children:"Ubuntu / Debian"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"apt update\r\napt upgrade\r\nsudo apt install ufw\r\nufw enable\r\nufw status verbose\n"})}),"\n",(0,s.jsx)(n.h3,{id:"centos",children:"CentOS"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"dnf install epel-release -y\r\ndnf install ufw -y\r\nufw enable\r\nufw status verbose\r\nufw disable\n"})}),"\n",(0,s.jsx)(n.h3,{id:"arch",children:"Arch"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pamac install ufw\r\nsystemctl disable iptables.service\r\nsystemctl enable ufw.service\r\nufw enable\r\nufw status verbose\n"})}),"\n",(0,s.jsx)(n.h3,{id:"snap-app",children:"Snap App"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S snapd\r\nsudo systemctl enable --now snapd.socket\r\nsudo ln -s /var/lib/snapd/snap /snap\r\nsudo snap install ufw\n"})}),"\n",(0,s.jsx)(n.h2,{id:"firewall-rules",children:"Firewall Rules"}),"\n",(0,s.jsx)(n.h3,{id:"default-policies",children:"Default Policies"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw default deny incoming\r\nufw default allow outgoing\n"})}),"\n",(0,s.jsx)(n.h3,{id:"adding-services",children:"Adding Services"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw allow ssh\r\nufw app list\r\nufw delete allow ssh\n"})}),"\n",(0,s.jsx)(n.h3,{id:"adding-ports",children:"Adding Ports"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw allow in 8443/tcp\r\nufw delete allow 8443/tcp\r\nufw allow 8301,8600/tcp #multiple ports\r\nufw allow 6000:6007/tcp #port ranges\r\nufw reload\n"})}),"\n",(0,s.jsx)(n.h3,{id:"removing-rules",children:"Removing Rules"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw status numbered\r\nufw delete [rule number] #e.g. ufw delete 2\n"})}),"\n",(0,s.jsx)(n.h3,{id:"allowed-hosts",children:"Allowed Hosts"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw allow from 192.168.1.112\r\nufw allow from 192.168.1.0/24\r\nufw allow from 192.168.1.0/24 to any port 22\r\nufw reload\n"})}),"\n",(0,s.jsx)(n.h3,{id:"blocking-ports-or-hosts",children:"Blocking Ports or Hosts"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw deny http\r\nufw deny from 192.168.2.112\r\nufw reload\n"})}),"\n",(0,s.jsx)(n.h2,{id:"disabling-or-resetting-ufw",children:"Disabling or Resetting UFW"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ufw disable\r\nufw reset\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},996721:(e,n,l)=>{l.d(n,{A:()=>s});const s=l.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-ec671595d585b88a85b017a7908fb619.jpg"},28453:(e,n,l)=>{l.d(n,{R:()=>a,x:()=>t});var s=l(296540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);