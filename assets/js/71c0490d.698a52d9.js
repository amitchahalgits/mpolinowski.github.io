"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[47118],{110094:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});var l=i(785893),s=i(603905);const t={sidebar_position:8090,slug:"2022-06-15",title:"Wails - Build desktop apps using Go & React",authors:"mpolinowski",tags:["Go","React"]},a=void 0,r={id:"Development/Go/2022-06-15-wails-go-react/index",title:"Wails - Build desktop apps using Go & React",description:"Shen Zhen, China",source:"@site/docs/Development/Go/2022-06-15-wails-go-react/index.md",sourceDirName:"Development/Go/2022-06-15-wails-go-react",slug:"/Development/Go/2022-06-15-wails-go-react/2022-06-15",permalink:"/docs/Development/Go/2022-06-15-wails-go-react/2022-06-15",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Go/2022-06-15-wails-go-react/index.md",tags:[{label:"Go",permalink:"/docs/tags/go"},{label:"React",permalink:"/docs/tags/react"}],version:"current",sidebarPosition:8090,frontMatter:{sidebar_position:8090,slug:"2022-06-15",title:"Wails - Build desktop apps using Go & React",authors:"mpolinowski",tags:["Go","React"]},sidebar:"tutorialSidebar",previous:{title:"Build a NTP/S Timeserver Client in Go",permalink:"/docs/Development/Go/2022-10-04-go-ntp-client/2022-10-04"},next:{title:"goFTP",permalink:"/docs/Development/Go/2021-10-08--goftp/2021-10-08"}},d={},o=[{value:"Install Version 1.16.9",id:"install-version-1169",level:2},{value:"Dependencies",id:"dependencies",level:3},{value:"Install Wails",id:"install-wails",level:3},{value:"Hello World",id:"hello-world",level:3},{value:"Install Version 2 Beta",id:"install-version-2-beta",level:2},{value:"Build the Binary",id:"build-the-binary",level:3},{value:"Scaffold your first Wails App",id:"scaffold-your-first-wails-app",level:3},{value:"Project Layout",id:"project-layout",level:3},{value:"Development",id:"development",level:3},{value:"Build the Application",id:"build-the-application",level:3}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.ah)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Shen Zhen, China",src:i(143579).Z+"",width:"1500",height:"598"})}),"\n",(0,l.jsxs)(n.p,{children:["The traditional method of providing web interfaces to Go programs is via a built-in web server. ",(0,l.jsx)(n.a,{href:"https://github.com/wailsapp/wails",children:"Wails"})," offers a different approach: it provides the ability to wrap both Go code and a web frontend into a single binary. The Wails cli makes this easy for you, by handling project creation, compilation and bundling."]}),"\n",(0,l.jsx)(n.h2,{id:"install-version-1169",children:"Install Version 1.16.9"}),"\n",(0,l.jsx)(n.h3,{id:"dependencies",children:"Dependencies"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Go - ",(0,l.jsx)(n.a,{href:"https://golang.org/doc/install#install",children:"Go installation instructions"})]}),"\n",(0,l.jsxs)(n.li,{children:["npm - ",(0,l.jsx)(n.a,{href:"https://nodejs.org/en/download/",children:"Node Downloads Page"})]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://wails.app/gettingstarted/linux/#gcc-gtk-webkit",children:"gcc, gtk, webkit"})}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S gcc pkgconf webkit2gtk gtk3\n"})}),"\n",(0,l.jsx)(n.h3,{id:"install-wails",children:"Install Wails"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"go install github.com/wailsapp/wails/cmd/wails@latest\n"})}),"\n",(0,l.jsxs)(n.p,{children:["But I found that you can also find it on ",(0,l.jsx)(n.strong,{children:"PACMAN"}),": ",(0,l.jsx)(n.code,{children:"community/wails 1.16.9-2"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo pacman -S wails\n\nwails version\n _       __      _ __    \n| |     / /___ _(_) /____\n| | /| / / __ `/ / / ___/\n| |/ |/ / /_/ / / (__  )  v1.16.9\n|__/|__/\\__,_/_/_/____/   https://wails.app\nThe lightweight framework for web-like apps\n\nAvailable commands:\n\n   setup     Setup the Wails environment [default]\n   migrate   Migrate projects to latest Wails release \n   init      Initialises a new Wails project \n   build     Builds your Wails project \n   serve     Run your Wails project in bridge mode \n   update    Update to newer [pre]releases or specific versions \n   issue     Generates an issue in Github\n"})}),"\n",(0,l.jsx)(n.p,{children:"To finish the installation setup your Wails system by running the setup command wails setup and filling your handle and email."}),"\n",(0,l.jsx)(n.h3,{id:"hello-world",children:"Hello World"}),"\n",(0,l.jsxs)(n.p,{children:["Generate a new project using the init command - leads to an ",(0,l.jsx)(n.a,{href:"https://github.com/wailsapp/wails/pull/1046/files",children:"error message"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"wails init wails-world\nWails v1.16.9 - Initialising project\n\n2022/06/18 21:27:48 Could not load linuxdb.yaml\n"})}),"\n",(0,l.jsx)(n.h2,{id:"install-version-2-beta",children:"Install Version 2 Beta"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"go install github.com/wailsapp/wails/v2/cmd/wails@latest\n"})}),"\n",(0,l.jsx)(n.p,{children:"The application is installed in:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"go/pkg/mod/github.com/wailsapp/wails/v2@v2.0.0-beta.42/cmd/wails\n"})}),"\n",(0,l.jsxs)(n.p,{children:["Running ",(0,l.jsx)(n.code,{children:"wails doctor"})," will check if you have the correct dependencies installed. Change into the installation directory and run:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"go run ./main.go doctor\nWails CLI v2.0.0-beta.42\n\nScanning system - Please wait (this may take a long time)...Done.\n\nSystem\n------\nOS:             Manjaro Linux\nVersion:        Unknown\nID:             manjaro\nGo Version:     go1.19\nPlatform:       linux\nArchitecture:   amd64\n\nWails\n------\nVersion:                v2.0.0-beta.42\nPackage Manager:        pacman\n\nDependency      Package Name    Status          Version\n----------      ------------    ------          -------\n*docker         docker          Installed       1:20.10.17-1\ngcc             gcc             Installed       12.1.0-3\nlibgtk-3        gtk3            Installed       1:3.24.34-1\nlibwebkit       webkit2gtk      Installed       2.36.4-2\nnpm             npm             Installed       8.15.1-1\npkg-config      pkgconf         Installed       1.8.0-1\n\n* - Optional Dependency\n\nDiagnosis\n---------\nYour system is ready for Wails development!\n"})}),"\n",(0,l.jsx)(n.h3,{id:"build-the-binary",children:"Build the Binary"}),"\n",(0,l.jsx)(n.p,{children:"Inside the install directory run:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo go mod tidy\nsudo go build\n"})}),"\n",(0,l.jsxs)(n.p,{children:["You will end up with a ",(0,l.jsx)(n.code,{children:"wails"})," bin file in ",(0,l.jsx)(n.code,{children:"go/pkg/mod/github.com/wailsapp/wails/v2@v2.0.0-beta.42/cmd/wails/"}),". Copy this file to your user ",(0,l.jsx)(n.code,{children:"bin"})," directory and make sure that it is picked up:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"sudo mv wails /usr/bin/wails\nwails version\n"})}),"\n",(0,l.jsx)(n.h3,{id:"scaffold-your-first-wails-app",children:"Scaffold your first Wails App"}),"\n",(0,l.jsx)(n.p,{children:"List all application templates:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"wails init -l\nWails CLI v2.0.0-beta.42\n\nTEMPLATE                        SHORT NAME      DESCRIPTION                              \nLit + Vite                      lit             Lit + Vite development server           \nLit + Vite (Typescript)         lit-ts          Lit + TS + Vite development server      \nPlain HTML/JS/CSS               plain           A simple template using only HTML/CSS/JS\nPreact + Vite                   preact          Preact + Vite development server        \nPreact + Vite (Typescript)      preact-ts       Preact + Vite development server        \nReact + Vite                    react           React + Vite development server         \nReact + Vite (Typescript)       react-ts        React + Vite development server         \nSvelte + Vite                   svelte          Svelte + Vite development server        \nSvelte + Vite (Typescript)      svelte-ts       Svelte + TS + Vite development server   \nVanilla + Vite                  vanilla         Vanilla + Vite development server       \nVanilla + Vite (Typescript)     vanilla-ts      Vanilla + Vite development server       \nVue + Vite                      vue             Vue + Vite development server           \nVue + Vite (Typescript)         vue-ts          Vue + Vite development server\n"})}),"\n",(0,l.jsxs)(n.p,{children:["By default the ",(0,l.jsx)(n.code,{children:"init"})," command will use the ",(0,l.jsx)(n.code,{children:"vanilla"})," template. The following command will scaffold the ",(0,l.jsx)(n.strong,{children:"React.js"})," template:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"mkdir wails-world\nwails init -d wails-world -n wails-world -t react\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"Wails CLI v2.0.0-beta.42\n\nInitialising Project 'wails-world'\n----------------------------------\n\nProject Name:      wails-world\nProject Directory: dev/wails-world\nProject Template:  react\nTemplate Support:  https://wails.io\n\nInitialised project 'wails-world' in 263ms.\n"})}),"\n",(0,l.jsx)(n.h3,{id:"project-layout",children:"Project Layout"}),"\n",(0,l.jsx)(n.p,{children:"Wails projects have the following layout:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:".\n\u251c\u2500\u2500 build/\n\u2502   \u251c\u2500\u2500 appicon.png\n\u2502   \u251c\u2500\u2500 darwin/\n\u2502   \u2514\u2500\u2500 windows/\n\u251c\u2500\u2500 frontend/\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 go.sum\n\u251c\u2500\u2500 main.go\n\u2514\u2500\u2500 wails.json\n"})}),"\n",(0,l.jsx)(n.p,{children:"Project structure rundown"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/main.go"})," - The main application"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/frontend/"})," - Frontend project files"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/build/"}),"- Project build directory"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/build/appicon.png"})," - The application icon"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/build/darwin/"})," - Mac specific project files"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/build/windows/"})," - Windows specific project files"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/wails.json"})," - The project configuration"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/go.mod"})," - Go module file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"/go.sum"})," - Go module checksum file"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["The default module name in go.mod is ",(0,l.jsx)(n.code,{children:"changeme"}),". You should change this to something more appropriate."]}),"\n",(0,l.jsx)(n.h3,{id:"development",children:"Development"}),"\n",(0,l.jsxs)(n.p,{children:["To get started, run ",(0,l.jsx)(n.code,{children:"wails dev"})," in the project directory:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd wails-world\nwails dev\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"Vite Server URL: http://localhost:3000/\n  > Local: http://localhost:3000/\n  > Network: use `--host` to expose\n\n  ready in 330ms.\n"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Wails Go React",src:i(108924).Z+"",width:"1037",height:"562"})}),"\n",(0,l.jsx)(n.h3,{id:"build-the-application",children:"Build the Application"}),"\n",(0,l.jsxs)(n.p,{children:["From the project directory, run ",(0,l.jsx)(n.code,{children:"wails build"}),". This will compile your project and save the production-ready binary in the ",(0,l.jsx)(n.em,{children:"build/bin"})," directory."]}),"\n",(0,l.jsx)(n.p,{children:"Supported platforms:"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Platform"}),(0,l.jsx)(n.th,{children:"Description"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"darwin"})}),(0,l.jsx)(n.td,{children:"MacOS + architecture of build machine"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"darwin/amd64"})}),(0,l.jsx)(n.td,{children:"MacOS 10.13+ AMD64"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"darwin/arm64"})}),(0,l.jsx)(n.td,{children:"MacOS 11.0+ ARM64"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"darwin/universal"})}),(0,l.jsx)(n.td,{children:"MacOS AMD64+ARM64 universal application"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"windows"})}),(0,l.jsx)(n.td,{children:"Windows 10/11 + architecture of build machine"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"windows/amd64"})}),(0,l.jsx)(n.td,{children:"Windows 10/11 AMD64"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"windows/arm64"})}),(0,l.jsx)(n.td,{children:"Windows 10/11 ARM64"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"linux"})}),(0,l.jsx)(n.td,{children:"Linux + architecture of build machine"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"linux/amd64"})}),(0,l.jsx)(n.td,{children:"Linux AMD64"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"linux/arm64"})}),(0,l.jsx)(n.td,{children:"Linux ARM64"})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"wails build -platform linux/amd64 -clean -o wails-world\n"})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"App Type:               desktop\nPlatforms:              linux/amd64\nCompiler:               /usr/bin/go\nBuild Mode:             Production\nSkip Frontend:          false\nCompress:               false\nPackage:                true\nClean Build Dir:        true\nLDFlags:                \"\"\nTags:                   []\nRace Detector:          false\nOutput File:            wails-world\n\nBuilding target: linux/amd64\n----------------------------\n  - Installing frontend dependencies: Done.\n  - Compiling frontend: Done.\n  - Compiling application: Done.\n  - Packaging application: Done.\nBuilt 'dev/wails-world/build/bin/wails-world' in 28.931s.\n"})}),"\n",(0,l.jsxs)(n.p,{children:["You can execute the binary file directly ",(0,l.jsx)(n.code,{children:"./build/bin/wails-world"}),":"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.img,{alt:"Wails Go React",src:i(518314).Z+"",width:"1025",height:"966"})})]})}function h(e={}){const{wrapper:n}={...(0,s.ah)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},603905:(e,n,i)=>{i.d(n,{ah:()=>o});var l=i(667294);function s(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function t(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,l)}return i}function a(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(n){s(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function r(e,n){if(null==e)return{};var i,l,s=function(e,n){if(null==e)return{};var i,l,s={},t=Object.keys(e);for(l=0;l<t.length;l++)i=t[l],n.indexOf(i)>=0||(s[i]=e[i]);return s}(e,n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);for(l=0;l<t.length;l++)i=t[l],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(s[i]=e[i])}return s}var d=l.createContext({}),o=function(e){var n=l.useContext(d),i=n;return e&&(i="function"==typeof e?e(n):a(a({},n),e)),i},c={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},h=l.forwardRef((function(e,n){var i=e.components,s=e.mdxType,t=e.originalType,d=e.parentName,h=r(e,["components","mdxType","originalType","parentName"]),p=o(i),u=s,j=p["".concat(d,".").concat(u)]||p[u]||c[u]||t;return i?l.createElement(j,a(a({ref:n},h),{},{components:i})):l.createElement(j,a({ref:n},h))}));h.displayName="MDXCreateElement"},108924:(e,n,i)=>{i.d(n,{Z:()=>l});const l=i.p+"assets/images/Wails-Go-React_01-df83c48637016a54d29a03144a6713ac.png"},518314:(e,n,i)=>{i.d(n,{Z:()=>l});const l=i.p+"assets/images/Wails-Go-React_02-b24bed904d5fa5fd6feec56aafeed276.png"},143579:(e,n,i)=>{i.d(n,{Z:()=>l});const l=i.p+"assets/images/photo-kt443t6d_64hdh43hfh6dgjdfhg4_d-0829cb95dd693c790a8ca59f3f351274.jpg"}}]);