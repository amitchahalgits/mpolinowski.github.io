"use strict";(self.webpackChunkmikes_dev_notebook=self.webpackChunkmikes_dev_notebook||[]).push([[88187],{463827:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>l,toc:()=>i});var r=t(474848),s=t(28453);const a={sidebar_position:7060,slug:"2021-05-08",title:"Electron@13 as a Gatsby.js Wrapper",authors:"mpolinowski",tags:["Javascript","Electron","Gatsby","React"]},o=void 0,l={id:"Development/Javascript/2021-05-08-electron13-gatsby-wrapper/index",title:"Electron@13 as a Gatsby.js Wrapper",description:"Shenzhen, China",source:"@site/docs/Development/Javascript/2021-05-08-electron13-gatsby-wrapper/index.md",sourceDirName:"Development/Javascript/2021-05-08-electron13-gatsby-wrapper",slug:"/Development/Javascript/2021-05-08-electron13-gatsby-wrapper/2021-05-08",permalink:"/docs/Development/Javascript/2021-05-08-electron13-gatsby-wrapper/2021-05-08",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2021-05-08-electron13-gatsby-wrapper/index.md",tags:[{label:"Javascript",permalink:"/docs/tags/javascript"},{label:"Electron",permalink:"/docs/tags/electron"},{label:"Gatsby",permalink:"/docs/tags/gatsby"},{label:"React",permalink:"/docs/tags/react"}],version:"current",sidebarPosition:7060,frontMatter:{sidebar_position:7060,slug:"2021-05-08",title:"Electron@13 as a Gatsby.js Wrapper",authors:"mpolinowski",tags:["Javascript","Electron","Gatsby","React"]},sidebar:"tutorialSidebar",previous:{title:"Electron@13 and Create-React-App",permalink:"/docs/Development/Javascript/2021-05-09-electron13-and-react/2021-05-09"},next:{title:"Electron for Cross Platform Applications",permalink:"/docs/Development/Javascript/2021-05-07-electron-cross-platform-apps/2021-05-07"}},c={},i=[{value:"Installation",id:"installation",level:2},{value:"Preparing Electron",id:"preparing-electron",level:2},{value:"Running the Electron App",id:"running-the-electron-app",level:2}];function p(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Shenzhen, China",src:t(512655).A+"",width:"1500",height:"475"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#installation",children:"Installation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#preparing-electron",children:"Preparing Electron"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"#running-the-electron-app",children:"Running the Electron App"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/mpolinowski/electron-carbon",children:"Github Repository"})}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsxs)(n.p,{children:["I want to use ",(0,r.jsx)(n.a,{href:"https://www.electronjs.org",children:"Electron@13"})," as a wrapper for an ",(0,r.jsx)(n.a,{href:"https://gatsbyjs.com",children:"Gatsby.js"})," project. For this I am going to set up a Carbon Design starter and add the latest version of Electron to it:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npx gatsby new electron-carbon https://github.com/carbon-design-system/gatsby-starter-carbon-theme \r\ncd electron-carbon && npm install --save-dev electron@latest concurrently wait-on\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Add a few scripts to the scripts section of the ",(0,r.jsx)(n.code,{children:"package.json"})," file to be able to start Electron with npm:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'"scripts": {\r\n    "build": "gatsby build",\r\n    "build:clean": "yarn clean && gatsby build",\r\n\t\t"build-client": "npm run build && npm run serve",\r\n    "clean": "gatsby clean",\r\n    "dev": "gatsby develop -H 0.0.0.0",\r\n    "dev:clean": "gatsby clean && gatsby develop -H 0.0.0.0",\r\n\t\t"electron": "electron .",\r\n    "serve": "gatsby serve",\r\n\t\t"start": "concurrently --kill-others \\"npm run build-client\\" \\"wait-on tcp:9000 && npm run electron\\""\r\n  },\n'})}),"\n",(0,r.jsx)(n.h2,{id:"preparing-electron",children:"Preparing Electron"}),"\n",(0,r.jsxs)(n.p,{children:["Let's now create the index file ",(0,r.jsx)(n.code,{children:"index.js"})," that the start script above is expecting:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const { app, BrowserWindow } = require('electron');\r\n\r\nfunction createWindows() {\r\n  let welcomeWindow =  new BrowserWindow();\r\n  welcomeWindow.loadURL('http://localhost:9000');\r\n}\r\n\r\napp.on('ready', createWindows);\n"})}),"\n",(0,r.jsx)(n.p,{children:"To test if this is working run those commands in one terminal:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run build && npm run server\n"})}),"\n",(0,r.jsxs)(n.p,{children:["And in a second terminal run the Electron process once you can see that the page is being served on ",(0,r.jsx)(n.code,{children:"localhost:9000"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run electron\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Electron@13 Gatsby Wrapper",src:t(203796).A+"",width:"1228",height:"687"})}),"\n",(0,r.jsx)(n.p,{children:"It is working!"}),"\n",(0,r.jsx)(n.h2,{id:"running-the-electron-app",children:"Running the Electron App"}),"\n",(0,r.jsxs)(n.p,{children:["Now we can use our npm ",(0,r.jsx)(n.strong,{children:"Start"})," script to start electron and have it serve the Gatsby build:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm run start\n"})}),"\n",(0,r.jsx)(n.p,{children:"This will re-run the built, serve the build content and then start Electron to wrap your Gatsby page."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},203796:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/Electron13_Gatsby_Wrapper_01-744529d3da373104dd45f3858a5764cd.png"},512655:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/photo-456tdsfggd_67gfh6dgdf4_d-c868bb0e4e023251dd787659805fac97.jpg"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var r=t(296540);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);