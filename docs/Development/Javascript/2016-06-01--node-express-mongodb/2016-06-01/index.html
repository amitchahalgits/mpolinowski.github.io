<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Development/Javascript/2016-06-01--node-express-mongodb/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.1">
<title data-rh="true">Node/Express with MongoDB | Mike Polinowski</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mpolinowski.github.io/docs/Development/Javascript/2016-06-01--node-express-mongodb/2016-06-01"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Node/Express with MongoDB | Mike Polinowski"><meta data-rh="true" name="description" content="Hongkong"><meta data-rh="true" property="og:description" content="Hongkong"><link data-rh="true" rel="icon" href="/img/icons/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://mpolinowski.github.io/docs/Development/Javascript/2016-06-01--node-express-mongodb/2016-06-01"><link data-rh="true" rel="alternate" href="https://mpolinowski.github.io/docs/Development/Javascript/2016-06-01--node-express-mongodb/2016-06-01" hreflang="en"><link data-rh="true" rel="alternate" href="https://mpolinowski.github.io/docs/Development/Javascript/2016-06-01--node-express-mongodb/2016-06-01" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Mike Polinowski RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Mike Polinowski Atom Feed">




<link rel="icon" href="/img/angular_momentum.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="rgb(37,194,160)">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#000">
<link rel="apple-touch-icon" href="/img/angular_momentum.png">
<link rel="mask-icon" href="/img/angular_momentum.png" color="rgb(33,33,33)">
<meta name="msapplication-TileImage" content="/img/angular_momentum.png">
<meta name="msapplication-TileColor" content="#000">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-P74BDWF0C6"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-P74BDWF0C6",{})</script><link rel="stylesheet" href="/assets/css/styles.08c8c484.css">
<script src="/assets/js/runtime~main.a54fca34.js" defer="defer"></script>
<script src="/assets/js/main.93a0244f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/angular_momentum.png" alt="Mike Polinowski :: Dev Notebook" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/angular_momentum.png" alt="Mike Polinowski :: Dev Notebook" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Mike Polinowski</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/docs/tags">Tags</a><a class="navbar__item navbar__link" href="/Search">Search</a><a href="https://mpolinowski.github.io/Personal" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">About<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mpolinowski" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/development">Development</a><button aria-label="Collapse sidebar category &#x27;Development&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/javascript">Javascript</a><button aria-label="Collapse sidebar category &#x27;Javascript&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-31-js-typescript-rest/2023-12-31">Typescript for Web APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-25-redux-toolkit/2023-12-25">Redux Toolkit and RTK Query</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-24-react-query-tauri-iot-ctrl/2023-12-21">Building a Native IP Camera Client in React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-21-react-query-tauri-elasticsearch/2023-12-21">Building a Native Elasticsearch Client in React</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-20-react-query-typescript/2023-12-20">Tanstack React Query AsyncState Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-19-react-query-typescript/2023-12-19">React Query AsyncState Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-18-reactjs-typescript-redux-toolkit/2023-12-18">Redux Toolkit Github API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-16-reactjs-hooks-typescript/2023-12-16">React Hooks Typescript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-15-reactjs-typescript-redux/2023-12-15">Simple Redux</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-12-14-reactjs-typescript-2023/2023-12-14">React.js with Typescript 2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-06-13-typescript-dom-webpack/2023-06-13">Typescript DOM Webpack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-06-13-typescript-dom/2023-06-13">Typescript DOM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-06-12-typescript-pattern/2023-06-12">Typescript Design Pattern</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-06-12-typescript-2023/2023-06-12">Typescript 2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-06-04-nodejs-typescript-sql/2023-06-04">Node / Express with Typescript - (Re)Introduction 2023</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-04-01-reactjs-2023/2023-04-01">React.js 2023 - A (Re)Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-02-13-gatsby-meili-search-starter/2023-02-13">MeiLi Search for your Gatsby.js Blog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2023-02-12-react-meili-search-starter/2023-02-12">React Frontend for MeiLi Search</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-12-29-reactive-search-starter/2022-12-29">Reactive Search Starter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-12-11-11ty-starter/2022-12-11">11ty Static Site Generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-11-29-react-typescript-intro-2023/2022-11-29">TypeScript 2.0 in React 19 (2023)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-11-19-web3-javascript-app/2022-11-19">Web3.js Blockchain Application</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-11-10-webrtc-introduction-video-chat-part2/2022-11-10">WebRTC Introduction - Interactive Connectivity Establishment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-10-30-webrtc-introduction-video-chat-part1/2022-10-30">WebRTC Introduction - Client Side Signalling</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-10-29-webrtc-introduction-realtime-chat/2022-10-29">WebRTC Introduction - Realtime Chat</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-07-01-docusaurus-introduction/2022-07-01">Docusaurus Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2022-03-01--json-apis-training/2022-03-01">Working with JSON APIs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-10--websocket-recconects/2021-09-10">Reconnecting Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-10--notifications-alerts-as-toast/2021-09-10">Convert Alerts into Toasts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-09--websocket-NGINX/2021-09-09">NGINX as a Proxy for Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-09--websocket-HAproxy/2021-09-09">HAProxy Loadbalancing and Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-08--websockets-html-video/2021-09-08">HTML Video over Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-09-07--intro-to-websockets/2021-09-07">Introduction to Websockets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-06-04--mqtt-dashboard-react/2021-06-04">React Dashboard for MQTT</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-06-02--mqtt-cheat-sheet/2021-06-02">Mosquitto MQTT Cheat Sheet</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-06-01--mqtt-with-reactjs/2021-06-01">MQTT Webfrontend with React.js</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-12-carbon-design-react-part3/2021-05-12">Carbon Design System in React.js - Part III</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-11-carbon-design-react-part2/2021-05-11">Carbon Design System in React.js - Part II</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-10-carbon-design-react/2021-05-10">Carbon Design System in React.js - Part I</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-09-electron13-and-react/2021-05-09">Electron@13 and Create-React-App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-08-electron13-gatsby-wrapper/2021-05-08">Electron@13 as a Gatsby.js Wrapper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-05-07-electron-cross-platform-apps/2021-05-07">Electron for Cross Platform Applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2021-02-14-next-js-2021/2021-02-14">Next.js in 2021</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2020-01-12--node-express-redirect-server/2020-01-12">Web traffic redirection with Node and Express on CentOS8</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2019-08-02--building-an-mqtt-interface/2019-08-02">Building a MQTT Interface</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2018-01-17--server-side-render-react-router/2018-01-17">Server Rendering with React and React Router</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2018-01-15--react-transition-group-demo/2018-01-15">react-transition-group</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2018-01-07--gatsby-material-ui-starter/2018-01-07">Gatsby Material UI Starter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-17--gatsby-reactstrap/2017-12-17">Gatsby.js with Bootstrap 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-14--gatsby-wiki/2017-12-14">Gatsby.js Knowledgebase</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-09--next-start/2017-12-09">Next.js Server Side Rendering</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-12-07--react-router-4/2017-12-07">React Router 4</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-09-03--react-under-the-hood/2017-09-03">React under the Hood</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-08-21--reactive-material/2017-08-21">create-react-app and Material-UI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-08-15--gatsby-blog-starter/2017-08-15">Gatsby Blog Starter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-08-07--google-analytics-amp/2017-08-07">Google Analytics in AMP</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-07-24--obligatory-react-todo-list/2017-07-24">React TODO List</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-07-22--caloric-burn/2017-07-22">Food Caloric Table App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2017-07-04--random-password-generator/2017-07-04">Random Password Generator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2016-08-11--node-express-static-wiki/2016-08-11">Node Express Static</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Development/Javascript/2016-06-01--node-express-mongodb/2016-06-01">Node/Express with MongoDB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2016-05-27--javascript-apis-and-ajax/2016-05-27">JavaScript and Getting Started with APIs and AJAX</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2010-01-05--markdown-live-code/2010-01-05">React-Live &amp; Code example</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Development/Javascript/2010-01-01--mdx/2010-01-01">Markdown Cheatsheet</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/python">Python</a><button aria-label="Expand sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/go">Go</a><button aria-label="Expand sidebar category &#x27;Go&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/graphs">Graphs</a><button aria-label="Expand sidebar category &#x27;Graphs&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/react-native">React Native</a><button aria-label="Expand sidebar category &#x27;React Native&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/magento">Magento</a><button aria-label="Expand sidebar category &#x27;Magento&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/misc">Misc</a><button aria-label="Expand sidebar category &#x27;Misc&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/devops">DevOps</a><button aria-label="Expand sidebar category &#x27;DevOps&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/machine-learning-ai-and-computer-vision">Machine Learning, AI and Computer Vision</a><button aria-label="Expand sidebar category &#x27;Machine Learning, AI and Computer Vision&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/automation-deep-vision-and-robotics">Automation, Deep Vision and Robotics</a><button aria-label="Expand sidebar category &#x27;Automation, Deep Vision and Robotics&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/development"><span itemprop="name">Development</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/javascript"><span itemprop="name">Javascript</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Node/Express with MongoDB</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Node/Express with MongoDB</h1></header><p><img alt="Hongkong" src="/assets/images/photo-34445934842_9cbfb7dfcb_o-464557a7759924344bfba6fafde3e24d.jpg" width="2795" height="1634"></p>
<p><a href="https://github.com/mpolinowski/node_express_git">Github Repository</a></p>
<blockquote>
<p>This code is part of a training in web development with <a href="https://nodejs.org/en/">Node.js</a>. <a href="http://ejs.co">EJS</a> will be used as template engine for rendering HTML out of <a href="https://expressjs.com">Express</a>. The library application will use <a href="https://www.mongodb.com">MongoDB</a> to store information about books and authors - but will also employ the <a href="https://www.goodreads.com/api">GoodReads API</a> to provide more details on each. <a href="http://www.passportjs.org">Passport.js</a> is used for local security.</p>
</blockquote>
<ul>
<li>This is Part I and will guide us through the basic <a href="https://nodejs.org/en/">Node.js</a> and <a href="https://expressjs.com">Express</a> setup</li>
<li>In Part II we will add <a href="https://bower.io/">Bower.js</a> and the <a href="https://gulpjs.com/">Gulp.js</a> taskrunner to manage our style dependencies and auto-restart our development environment using <a href="https://nodemon.io">Nodemon.js</a></li>
<li>In Part III will add the magic of the <a href="http://ejs.co">EJS</a> templating engine</li>
<li>Part IV deals with advanced Express routing options</li>
<li>Part V deals with <a href="http://www.passportjs.org">Passport.js</a> user authentication and <a href="https://www.mongodb.com">MongoDB</a></li>
</ul>
<ul>
<li><a href="#01-install-nodejs-and-expressjs-to-serve-our-web-application">01 Install Node.js and Express.js to serve our Web Application</a></li>
<li><a href="#02-add-start-script">02 Add Start Script</a></li>
<li><a href="#03-add-routing-hello-world">03 Add Routing (Hello World)</a></li>
<li><a href="#04-serve-static-files">04 Serve Static Files</a></li>
<li><a href="#05-add-bower-to-the-project">05 Add Bower to the Project</a></li>
<li><a href="#06-add-gulp-to-the-project">06 Add Gulp to the Project</a>
<ul>
<li><a href="#inject-bower-dependencies-with-wiredep">Inject Bower Dependencies with Wiredep</a></li>
<li><a href="#inject-with-gulp-inject">Inject with Gulp-Inject</a></li>
<li><a href="#auto-restart-with-nodemon">Auto-restart with Nodemon</a></li>
</ul>
</li>
<li><a href="#07-add-a-templating-engine---ejs">07 Add a Templating Engine - EJS</a></li>
<li><a href="#08-adding-a-page-navigation-with-routing">08 Adding a Page Navigation with Routing</a></li>
<li><a href="#09-adding-a-router-for-the-listview-of-our-book-page">09 Adding a Router for the Listview of our Book Page</a>
<ul>
<li><a href="#adding-a-route-to-render">Adding a Route to Render</a></li>
<li><a href="#cleaning-up-the-app-file-with-routers">Cleaning up the App File with Routers</a></li>
</ul>
</li>
<li><a href="#10-creating-a-single-book-by-id-route--view">10 Creating a Single Book by ID Route &amp; View</a></li>
<li><a href="#11-cleaning-up-our-routes-by-creating-a-variable-for-the-nav-element">11 Cleaning up our routes by creating a variable for the NAV element</a></li>
<li><a href="#12-adding-mongodb">12 Adding MongoDB</a>
<ul>
<li><a href="#download-and-install-mongodb">Download and Install MongoDB</a></li>
<li><a href="#create-adminroutes-to-populate-the-database">Create adminRoutes to populate the Database</a></li>
</ul>
</li>
<li><a href="#14-use-the-mongodb-response">14 Use the MongoDB Response</a>
<ul>
<li><a href="#select-many">Select Many</a></li>
<li><a href="#select-one">Select One</a></li>
</ul>
</li>
<li><a href="#15-creating-a-signin-form-on-indexejs">15 Creating a SignIn Form on Index.ejs</a></li>
<li><a href="#16-creating-the-authentication-route">16 Creating the Authentication Route</a></li>
<li><a href="#17-adding-passportjs-middleware">17 Adding Passport.js Middleware</a></li>
<li><a href="#18-authentication-with-local-strategy">18 Authentication with Local Strategy</a></li>
<li><a href="#19-saving-the-user-to-mongodb">19 Saving the User to MongoDB</a></li>
<li><a href="#20-user-signin-from-mongodb">20 User SignIn from mongoDB</a></li>
<li><a href="#21-verifying-user-in-db">21 Verifying User in DB</a></li>
</ul>
<h2 id="01-install-nodejs-and-expressjs-to-serve-our-web-application">01 Install Node.js and Express.js to serve our Web Application</h2>
<p>First install <a href="https://nodejs.org/en/download/">Node.js</a> and initialize the project with npm init. Then npm install express --save to the app directory.</p>
<p>Create a <em>app.js</em> and run the Express webserver on a specified port:</p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express():

var port = 3000;

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p>Running the app with node app.js should give you the console log that the webserver is up an running on the specified port.</p>
<h2 id="02-add-start-script">02 Add Start Script</h2>
<p>Now we will add a npm script to the <em>package.json</em> file to start our app:</p>
<pre><code class="language-json">&#x27;name&#x27;: &#x27;node-express&#x27;,
  &#x27;version&#x27;: &#x27;1.0.0&#x27;,
  &#x27;description&#x27;: &#x27;Library App&#x27;,
  &#x27;main&#x27;: &#x27;app.js&#x27;,
  &#x27;scripts&#x27;: {
    &#x27;test&#x27;: &#x27;echo \&#x27;Error: no test specified\&#x27; &amp;&amp; exit 1&#x27;,
    &#x27;start&#x27;: &#x27;node app.js&#x27;
</code></pre>
<p>The line <em>&#x27;start&#x27;: &#x27;node app.js&#x27;</em> allows us to use the npm start command instead of having to define our starting point like before - <em>node app.js</em></p>
<h2 id="03-add-routing-hello-world">03 Add Routing (Hello World)</h2>
<p>When accessing the home route (<a href="http://localhost:3000/">http://localhost:3000/</a>), we want to send a Hello World, to test our routing. Then we add another route - /books to the <em>app.js</em> file:</p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express():

var port = 3000;

app.get(&#x27;/&#x27;, function(req, res){
  res.send(&#x27;Hello World&#x27;)
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<h2 id="04-serve-static-files">04 Serve Static Files</h2>
<p>We first add to new folders to our project - public/css &amp; public/js and a src/views folder. We download a free Bootstrap theme from a page like bootstrapzero.com and put the css/js files into the public folder. The html file has to be located in the views folder.</p>
<p>The Express middleware is used to serve the content of our public folder, by adding the line app.use(express.static(&#x27;public&#x27;)); to the app.js file. The static html file - index.html - from our template, will be served by app.use(express.static(&#x27;src/views&#x27;));.</p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express();

var port = 3000;

app.use(express.static(&#x27;public&#x27;));
app.use(express.static(&#x27;src/views&#x27;));

app.get(&#x27;/&#x27;, function(req, res){
  res.send(&#x27;Hello World&#x27;)
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p>Through the public route, we are now able to access the css/js files by typing in e.g. <a href="http://localhost:3000/css/styles.css">http://localhost:3000/css/styles.css</a> into our browser (the bootstrap components of the template will not be used - we Bower to add them later. The index.html is accessible by <a href="http://localhost:3000/index.html">http://localhost:3000/index.html</a>.</p>
<h2 id="05-add-bower-to-the-project">05 Add Bower to the Project</h2>
<p>First install Bower globally with <em>npm install bower -g</em>. Then do a bower init to the app directory (creation of bower.json).</p>
<p>We now add a new file to tell Bower to install directly into our public directory:</p>
<p><strong>.bowerrc</strong></p>
<pre><code class="language-json">&#x27;directory&#x27;: &#x27;public/lib&#x27;
</code></pre>
<p>Next we bower install bootstrap font-awesome --save to get the latest stable version of the framework (add bower_components bootstrap + jquery). They will be installed to the lib directory in our public folder. The bootstrap/jquery/font-awesome files can now be added to the template index.html by linking e.g.</p>
<h2 id="06-add-gulp-to-the-project">06 Add Gulp to the Project</h2>
<h3 id="inject-bower-dependencies-with-wiredep">Inject Bower Dependencies with Wiredep</h3>
<p>First install Gulp with npm install -g gulp globally. Then install it to the app directory via <em>npm install --save-dev gulp</em> (as a development dependency). We now want to inject dependencies (css,js) to our views automatically with wiredep - <em>npm install --save-dev wiredep</em>.</p>
<p>We now add a new file to tell Gulp what to do - ignore node_modules only use files from the src directory, add dependencies with wiredep.</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="language-javascript">var gulp = require(&#x27;gulp&#x27;);

var jsFiles = [&#x27;*.js&#x27;, &#x27;src/**/*.js&#x27;];

gulp.task(&#x27;inject&#x27;, function() {
    var wiredep = require(&#x27;wiredep&#x27;).stream; /* Use wiredep to inject css/js dependencies to views e.g. bootstrap */

    var options = {
        bowerJson: require(&#x27;./bower.json&#x27;), /* Tell wiredep to check dependencies from the bower.json file e.g. bootstrap */
        directory: &#x27;./public/lib&#x27;, /* Tell wiredep to find dependencies in the lib directory. It will search for the json file - e.g. ./public/lib/bootstrap/.bower.json */
        ignorePath: &#x27;../../public&#x27; /* The path to the css/js files has to be given relative to the public folder - e.g. (../../public/)/lib/bootstrap/dist/css/bootstrap.min.css*/
    };

    return gulp.src(&#x27;./src/views/*.html&#x27;)
        .pipe(wiredep(options))
        .pipe(gulp.dest(&#x27;./src/views&#x27;));
});
</code></pre>
<p>Bootstrap 3 now uses LESS - we have to override the defaults to grab the CSS files instead and add them to our index.html. The main overrides can be added to the global bower.json file. This way the bower.json file inside public/lib/bootstrap and public/lib/font-awesome will be ignored.</p>
<p><strong>bower.json</strong></p>
<pre><code class="language-json">{
  &#x27;name&#x27;: &#x27;node-express&#x27;,
  &#x27;description&#x27;: &#x27;node express test&#x27;,
  &#x27;main&#x27;: &#x27;app.js&#x27;,
  &#x27;authors&#x27;: [
    &#x27;[object Object]&#x27;
  ],
  &#x27;license&#x27;: &#x27;MIT&#x27;,
  &#x27;homepage&#x27;: &#x27;&#x27;,
  &#x27;ignore&#x27;: [
    &#x27;**/.*&#x27;,
    &#x27;node_modules&#x27;,
    &#x27;bower_components&#x27;,
    &#x27;test&#x27;,
    &#x27;tests&#x27;
  ],
  &#x27;dependencies&#x27;: {
    &#x27;bootstrap&#x27;: &#x27;^3.3.6&#x27;,
    &#x27;font-awesome&#x27;: &#x27;^4.6.1&#x27;
  },
  &#x27;overrides&#x27;: {
    &#x27;bootstrap&#x27;: {
      &#x27;main&#x27;: [
        &#x27;dist/js/bootstrap.js&#x27;,
        &#x27;dist/css/bootstrap.min.css&#x27;,
        &#x27;dist/less/bootstrap.less&#x27;
      ]
    },
    &#x27;font-awesome&#x27;: {
      &#x27;main&#x27;: [
        &#x27;less/font-awesome.less&#x27;,
        &#x27;css/font-awesome.min.css&#x27;,
        &#x27;scss/font-awesome.scss&#x27;
      ]
    }
  }
}
</code></pre>
<p><strong>index.html</strong></p>
<p>We now have to add and to our index.html template to inject the Bower css/js dependencies, when the command gulp inject is run.</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&#x27;en&#x27;&gt;

&lt;head&gt;
    &lt;meta http-equiv=&#x27;content-type&#x27; content=&#x27;text/html; charset=UTF-8&#x27;&gt;
    &lt;meta charset=&#x27;utf-8&#x27;&gt;
    &lt;title&gt;LibraryApp&lt;/title&gt;
    &lt;meta name=&#x27;viewport&#x27; content=&#x27;width=device-width, initial-scale=1, maximum-scale=1&#x27;&gt;
    &lt;!--bower:css--&gt;
    &lt;link rel=&#x27;stylesheet&#x27; href=&#x27;/lib/bootstrap/dist/css/bootstrap.min.css&#x27; /&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;link rel=&#x27;stylesheet&#x27; href=&#x27;/lib/font-awesome/css/font-awesome.min.css&#x27; /&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;!--endbower--&gt;
    &lt;!-- bower:js --&gt;
    &lt;script src=&#x27;/lib/jquery/dist/jquery.js&#x27;&gt;&lt;/script&gt;  &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;script src=&#x27;/lib/bootstrap/dist/js/bootstrap.js&#x27;&gt;&lt;/script&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;!-- endbower --&gt;
&lt;/head&gt;
</code></pre>
<h3 id="inject-with-gulp-inject">Inject with Gulp-Inject</h3>
<p>After injecting the Bower dependencies, we now have to inject our ccs and js files from the public folder. We will use Gulp-Inject to perform this task. First do a npm install --save-dev gulp inject, to install Gulp-Inject as a development dependency.</p>
<p>We now add Gulp-Inject to our gulpfile.js:</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="language-javascript">var gulp = require(&#x27;gulp&#x27;);

var jsFiles = [&#x27;*.js&#x27;, &#x27;src/**/*.js&#x27;];

gulp.task(&#x27;inject&#x27;, function() {
    var wiredep = require(&#x27;wiredep&#x27;).stream;
    var inject = require(&#x27;gulp-inject&#x27;); /* Use gulp-inject to inject our personal css/js dependencies to views */

    var injectSrc = gulp.src([&#x27;./public/css/*.css&#x27;, /* Tell gulp-inject where our personal css/js dependencies are located */
        &#x27;./public/js/*.js&#x27;
    ], {
        read: false /* We only need the path not content */
    });

    var injectOptions = {
        ignorePath: &#x27;/public&#x27; /* Tell gulp-inject to use a path relative to /public */
    };

    var options = {
        bowerJson: require(&#x27;./bower.json&#x27;),
        directory: &#x27;./public/lib&#x27;,
        ignorePath: &#x27;../../public&#x27;
    };

    return gulp.src(&#x27;./src/views/*.html&#x27;)
        .pipe(wiredep(options))
        .pipe(inject(injectSrc, injectOptions)) /* Use gulp-inject to inject our personal css/js dependencies to views */
        .pipe(gulp.dest(&#x27;./src/views&#x27;));
});
</code></pre>
<p>We now have to add and to our index.html template to inject our css/js dependencies, when the command gulp inject is run.</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang=&#x27;en&#x27;&gt;

&lt;head&gt;
    &lt;meta http-equiv=&#x27;content-type&#x27; content=&#x27;text/html; charset=UTF-8&#x27;&gt;
    &lt;meta charset=&#x27;utf-8&#x27;&gt;
    &lt;title&gt;LibraryApp&lt;/title&gt;
    &lt;meta name=&#x27;viewport&#x27; content=&#x27;width=device-width, initial-scale=1, maximum-scale=1&#x27;&gt;
    &lt;!--bower:css--&gt;
    &lt;link rel=&#x27;stylesheet&#x27; href=&#x27;/lib/bootstrap/dist/css/bootstrap.min.css&#x27; /&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;link rel=&#x27;stylesheet&#x27; href=&#x27;/lib/font-awesome/css/font-awesome.min.css&#x27; /&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;!--endbower--&gt;
    &lt;!-- bower:js --&gt;
    &lt;script src=&#x27;/lib/jquery/dist/jquery.js&#x27;&gt;&lt;/script&gt;  &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;script src=&#x27;/lib/bootstrap/dist/js/bootstrap.js&#x27;&gt;&lt;/script&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;!-- endbower --&gt;
    &lt;!-- inject:css--&gt;
    &lt;link rel=&#x27;stylesheet&#x27; href=&#x27;/css/styles.css&#x27;&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;!-- endinject--&gt;
    &lt;!--inject:js--&gt;
    &lt;script src=&#x27;/js/default.js&#x27;&gt;&lt;/script&gt; &lt;!-- Will be automatically injected with the command &#x27;gulp inject&#x27; --&gt;
    &lt;!--endinject--&gt;
    &lt;!--[if lt IE 9]&gt;
			&lt;script src=&#x27;//html5shim.googlecode.com/svn/trunk/html5.js&#x27;&gt;&lt;/script&gt;
		&lt;![endif]--&gt;
&lt;/head&gt;
</code></pre>
<h3 id="auto-restart-with-nodemon">Auto-restart with Nodemon</h3>
<p>We now add Nodemon to monitor our node.js app - Nodemon will automatically restart the server when a change was detected. To install Nodemon type <em>npm install --save-dev nodemon</em>.</p>
<p>We now add Nodemon to our gulpfile.js:</p>
<p><strong>gulpfile.js</strong></p>
<pre><code class="language-javascript">var gulp = require(&#x27;gulp&#x27;);
var nodemon = require(&#x27;gulp-nodemon&#x27;); /* Add nodemon to automatically restart the server, when a change was detected */

var jsFiles = [&#x27;*.js&#x27;, &#x27;src/**/*.js&#x27;];

gulp.task(&#x27;inject&#x27;, function() {
    var wiredep = require(&#x27;wiredep&#x27;).stream;
    var inject = require(&#x27;gulp-inject&#x27;);

    var injectSrc = gulp.src([&#x27;./public/css/*.css&#x27;,
        &#x27;./public/js/*.js&#x27;
    ], {
        read: false
    });

    var injectOptions = {
        ignorePath: &#x27;/public&#x27;
    };

    var options = {
        bowerJson: require(&#x27;./bower.json&#x27;),
        directory: &#x27;./public/lib&#x27;,
        ignorePath: &#x27;../../public&#x27;
    };

    return gulp.src(&#x27;./src/views/*.html&#x27;)
        .pipe(wiredep(options))
        .pipe(inject(injectSrc, injectOptions))
        .pipe(gulp.dest(&#x27;./src/views&#x27;));
});

gulp.task(&#x27;serve&#x27;, [&#x27;inject&#x27;], function() { /* Create a &#x27;serve&#x27; task to automatically execute the &#x27;inject&#x27; function above on start-up */
    var options = { /* In the line above we used an Object for the &#x27;inject&#x27; function - here you can add more functions to be executed */
        script: &#x27;app.js&#x27;,  /* &#x27;serve&#x27; starts our app.js on &#x27;PORT&#x27; and nodemon restarts it when &#x27;jsFiles&#x27; are changed */
        delayTime: 1,
        env: {
            &#x27;PORT&#x27;: 8080  /* Environment variables e.g. database connection strings */
        },
        watch: jsFiles
    };

    return nodemon(options)
        .on(&#x27;restart&#x27;, function(ev) {
            console.log(&#x27;Restarting...&#x27;);
        });
});
</code></pre>
<h2 id="07-add-a-templating-engine---ejs">07 Add a Templating Engine - EJS</h2>
<p>EJS combines data and a template to produce HTML. JavaScript between <code>&lt;% %&gt;</code> is executed. JavaScript between <code>&lt;%= %&gt;</code> adds strings to your HTML and <code>&lt;%- %&gt;</code> can contain HTML formated content. To add our templating engine we first have to install it with npm install --save ejs. Now we add the engine to our app.js file:</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 3000; /* &#x27;gulp serve&#x27; uses PORT 8080 - if no port is defined by the environment use port 3000 */

app.use(express.static(&#x27;public&#x27;));

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);
app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;); /* Templating Engine is set to EJS */

app.get(&#x27;/&#x27;, function(req, res){
  res.render(&#x27;index&#x27;, {title: &#x27;Rendered Title&#x27;, list: [&#x27;a&#x27;, &#x27;b&#x27;]}); /* This content will be displayed in the index.ejs file we´ll create next */
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p>Now we create a simple index.ejs file in our src/views directory:</p>
<p><strong>index.ejs</strong></p>
<pre><code class="language-html"> &lt;!DOCTYPE html&gt;
  &lt;html&gt;
    &lt;head&gt;
      &lt;meta charset=&#x27;utf-8&#x27;&gt;
      &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
      &lt;h1&gt;&lt;%= title %&gt;&lt;/h1&gt;
      &lt;ul&gt;
        &lt;%= for(var i=0; i&lt;list.length; i++) { %&gt;
          &lt;li&gt;&lt;%= list[i] %&gt;&lt;/li&gt;
        &lt;%= } %&gt;
      &lt;/ul&gt;
    &lt;/body&gt;
  &lt;/html&gt;
</code></pre>
<p>Open <a href="http://localhost:8080/">http://localhost:8080/</a> to check the result - EJS should fill out the title and create the unordered list with the items a and b. Now we will take the code from our template index.html code and copy it to index.ejs. EJS will later be used to display a list view of books in our library app.</p>
<h2 id="08-adding-a-page-navigation-with-routing">08 Adding a Page Navigation with Routing</h2>
<p>We want to add two routes to our navigation bar - one for authors and one for books. In the final version of the library app, this will display all books either by their author or book title. We will create those routes in the app.js file and add the navigation to our navbar using EJS.</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 3000;

app.use(express.static(&#x27;public&#x27;));

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);
app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

app.get(&#x27;/&#x27;, function(req, res){
  res.render(&#x27;index&#x27;, {
    title: &#x27;Home&#x27;,
    list: [{Link: &#x27;/Books&#x27;, Text: &#x27;Books&#x27;}, /* We change the list from before to a nav element */
    {Link: &#x27;/Authors&#x27;, Text: &#x27;Authors&#x27;}]
  });
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p><strong>index.ejs</strong></p>
<pre><code class="language-html">&lt;header&gt;

    &lt;nav class=&#x27;navbar navbar-inverse navbar-fixed-top&#x27; role=&#x27;banner&#x27;&gt;
        &lt;div class=&#x27;container-fluid&#x27;&gt;

            &lt;div class=&#x27;navbar-header&#x27;&gt;
                &lt;button type=&#x27;button&#x27; class=&#x27;navbar-toggle collapsed&#x27; data-toggle=&#x27;collapse&#x27; data-target=&#x27;#bs-example-navbar-collapse-1&#x27; aria-expanded=&#x27;false&#x27;&gt;
                    &lt;span class=&#x27;sr-only&#x27;&gt;Toggle navigation&lt;/span&gt;
                    &lt;span class=&#x27;icon-bar&#x27;&gt;&lt;/span&gt;
                    &lt;span class=&#x27;icon-bar&#x27;&gt;&lt;/span&gt;
                    &lt;span class=&#x27;icon-bar&#x27;&gt;&lt;/span&gt;
                &lt;/button&gt;
                &lt;a href=&#x27;/&#x27; class=&#x27;navbar-brand&#x27;&gt;
                    &lt;%= title %&gt; &lt;!-- Adding nav element from app.js --&gt;
                &lt;/a&gt;
            &lt;/div&gt;

            &lt;div class=&#x27;collapse navbar-collapse&#x27; id=&#x27;bs-example-navbar-collapse-1&#x27;&gt;
                &lt;ul class=&#x27;nav navbar-nav navbar-right&#x27;&gt;
                    &lt;% for(var i=0; i&lt;nav.length;i++){%&gt; &lt;!-- Adding nav element from app.js --&gt;
                        &lt;li&gt;
                            &lt;a href=&#x27;&lt;%=nav[i].Link%&gt;&#x27;&gt; &lt;!-- Adding nav element from app.js --&gt;
                                &lt;%= nav[i].Text %&gt; &lt;!-- Adding nav element from app.js --&gt;
                            &lt;/a&gt;
                        &lt;/li&gt;
                        &lt;%}%&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/nav&gt;

&lt;/header&gt;
</code></pre>
<h2 id="09-adding-a-router-for-the-listview-of-our-book-page">09 Adding a Router for the Listview of our Book Page</h2>
<h3 id="adding-a-route-to-render">Adding a Route to Render</h3>
<p>We want to group all routes for the Book pages under one Router - later we will simply export this router from a separate file to app.js.</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 3000;
var bookRouter = express.Router(); /* Creating a Router for all Book Routes */

app.use(express.static(&#x27;public&#x27;));

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);
app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

bookRouter.route(&#x27;/&#x27;) /* When you go to /Books you will get the response &#x27;Hello Books&#x27; */
    .get(function(req, res) {
      res.send(&#x27;Hello Books&#x27;)
    });

bookRouter.route(&#x27;/Single&#x27;) /* When you go to /Books/Single you will get the response &#x27;Hello Single Books&#x27; */
    .get(function(req, res) {
      res.send(&#x27;Hello Single Books&#x27;)
    });

app.use(&#x27;/Books&#x27;, bookRouter); /* bookRouter will be used once you go to /Books*/

app.get(&#x27;/&#x27;, function(req, res){
  res.render(&#x27;index&#x27;, {
    title: &#x27;Home&#x27;,
    list: [{Link: &#x27;/Books&#x27;, Text: &#x27;Books&#x27;},
    {Link: &#x27;/Authors&#x27;, Text: &#x27;Authors&#x27;}]
  });
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p>bookRouter now sends us a string &#x27;Hello Books&#x27; or &#x27;Hello Single Books&#x27; when we go to <a href="http://localhost:8080/Books">http://localhost:8080/Books</a> or <a href="http://localhost:8080/Books/Single">http://localhost:8080/Books/Single</a> . We now want to render different views when we access those URLs.</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 3000;
var bookRouter = express.Router();

app.use(express.static(&#x27;public&#x27;));

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;); /* The render function requires an EJS file here to render */
app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

bookRouter.route(&#x27;/&#x27;)
    .get(function(req, res) {
      res.render(&#x27;bookListView&#x27;, {  /* We change res.send to res.render. Since we set views to ../src/views, the router will search for a bookListView.ejs in this directory to render */
        title: &#x27;Home&#x27;, /* We have to add nav since it is displayed on every view - we will export it later */
        list: [{Link: &#x27;/Books&#x27;, Text: &#x27;Books&#x27;},
        {Link: &#x27;/Authors&#x27;, Text: &#x27;Authors&#x27;}]
      });
    });

bookRouter.route(&#x27;/Single&#x27;)
    .get(function(req, res) {
      res.send(&#x27;Hello Single Books&#x27;)
    });

app.use(&#x27;/Books&#x27;, bookRouter);

app.get(&#x27;/&#x27;, function(req, res){
  res.render(&#x27;index&#x27;, {
    title: &#x27;Home&#x27;,
    list: [{Link: &#x27;/Books&#x27;, Text: &#x27;Books&#x27;},
    {Link: &#x27;/Authors&#x27;, Text: &#x27;Authors&#x27;}]
  });
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p>You can copy the index.ejs file and rename the copy to bookListView.ejs - this file will now be rendered, when you access <a href="http://localhost:8080/Books">http://localhost:8080/Books</a> .</p>
<p>Adding some Books to the Book View
We now have a view that is rendered when we access the Books view. Now we want to use EJS to populate the view with some books. Later, those books will be added from MongoDB. Now we just hardcode some books into app.js to prove the concept:</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express =require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 3000;
var bookRouter = express.Router();

app.use(express.static(&#x27;public&#x27;));

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);
app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

var books = [{  /* Just some hardcoded books for now - later we will use MongoDB */
    title: &#x27;Cryptonomicon&#x27;,
    author: &#x27;Neil Stephenson&#x27;,
    read: true
}, {
    title: &#x27;Leviathan Wakes&#x27;,
    author: &#x27;James S.A. Corey&#x27;,
    read: false
}, {
    title: &#x27;The Lord of the Rings&#x27;,
    author: &#x27;J.R.R. Tolkien&#x27;,
    read: true
}, {
    title: &#x27;Norwegian Wood&#x27;,
    author: &#x27;Haruki Murakami&#x27;,
    read: false
}, {
    title: &#x27;Microserfs&#x27;,
    author: &#x27;Douglas Coupland&#x27;,
    read: true
}, {
    title: &#x27;Up Country&#x27;,
    author: &#x27;Nelson Demille&#x27;,
    read: true
}, {
    title: &#x27;Night over Water&#x27;,
    author: &#x27;Ken Follett&#x27;,
    read: true
}, {
    title: &#x27;The Stand&#x27;,
    author: &#x27;Stephen King&#x27;,
    read: true
}];

bookRouter.route(&#x27;/&#x27;)
    .get(function(req, res) {
      res.render(&#x27;bookListView&#x27;, {
        title: &#x27;Home&#x27;,
        list: [{Link: &#x27;/Books&#x27;, Text: &#x27;Books&#x27;},
        {Link: &#x27;/Authors&#x27;, Text: &#x27;Authors&#x27;}]
        books: books /* passing in the book array from above - so it will be available for rendering */
      });
    });

bookRouter.route(&#x27;/Single&#x27;)
    .get(function(req, res) {
      res.send(&#x27;Hello Single Books&#x27;)
    });

app.use(&#x27;/Books&#x27;, bookRouter);

app.get(&#x27;/&#x27;, function(req, res){
  res.render(&#x27;index&#x27;, {
    title: &#x27;Home&#x27;,
    list: [{Link: &#x27;/Books&#x27;, Text: &#x27;Books&#x27;},
    {Link: &#x27;/Authors&#x27;, Text: &#x27;Authors&#x27;}]
  });
});

app.get(&#x27;/books&#x27;, function(req, res){
  res.send(&#x27;Hello World from the books route&#x27;)
});

app.listen(port, function(err){
  console.log(&#x27;running server on port&#x27; + port);
});
</code></pre>
<p>Now we can modify our bookListview to add those books via EJS:</p>
<p><strong>ookListView.ejs</strong></p>
<pre><code class="language-html">&lt;section class=&#x27;container&#x27; style=&#x27;margin-bottom: 400px;&#x27;&gt;
    &lt;div class=&#x27;row&#x27;&gt;
        &lt;% for(var i=0; i&lt;books.length;i++){ %&gt; &lt;!-- Not &lt;%= ...  %&gt; with the EQUAL sign it will not be executed --&gt;
            &lt;div class=&#x27;col-xs-6 col-md-4 col-lg-3 center-block&#x27; style=&#x27;margin-bottom: 10px;&#x27;&gt;
                &lt;div class=&#x27;panel panel-default&#x27;&gt;
                    &lt;div class=&#x27;panel-heading&#x27;&gt;
                        &lt;h4&gt;&lt;%= books[i].title %&gt;&lt;/h4&gt;
                    &lt;/div&gt;
                    &lt;div class=&#x27;panel-body&#x27;&gt;
                        &lt;div class=&#x27;col-xs-12 col-sm-4 col-lg-6&#x27;&gt;
                            &lt;a class=&#x27;story-title&#x27; href=&#x27;/Books/&lt;%=books[i]._id%&gt;&#x27;&gt;&lt;img alt=&#x27;&#x27; src=&#x27;&lt;%=books[i].cover%&gt;&#x27; style=&#x27;height:100px&#x27; class=&#x27;img-thumbnail&#x27;&gt;&lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&#x27;col-xs-12 col-sm-8 col-lg-6&#x27;&gt;
                            &lt;p&gt;&lt;span class=&#x27;label label-default&#x27;&gt;&lt;strong&gt;&lt;%= books[i].author %&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
                            &lt;p&gt;&lt;span style=&#x27;font-family:courier,&#x27;new courier&#x27;;&#x27; class=&#x27;text-muted&#x27;&gt;&lt;a href=&#x27;/Books/&lt;%= i %&gt;&#x27; class=&#x27;text-muted&#x27;&gt;Read More&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; &lt;!-- The link to the detailed single book view will be /Books/[i] - we later change this to /Books/:id --&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;% } %&gt; &lt;!-- Not &lt;%= } %&gt; with the EQUAL sign it will not be executed --&gt;
    &lt;/div&gt;
    &lt;hr&gt;

&lt;/section&gt;
</code></pre>
<p>When you access <a href="http://localhost:8080/Books">http://localhost:8080/Books</a> you will see the nav bar from before, as well as a list of our books.</p>
<h3 id="cleaning-up-the-app-file-with-routers">Cleaning up the App File with Routers</h3>
<p>Remove routes from the app.js file - We create a file bookRoutes.js under src/routes, cut bookRoutes from app.js and simply require bookRouter instead:</p>
<p><strong>bookRoutes.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);

var bookRouter = express.Router();

var books = [
    {
        title: &#x27;War and Peace&#x27;,
        genre: &#x27;Historical Fiction&#x27;,
        author: &#x27;Lev Nikolayevich Tolstoy&#x27;,
        read: false
        },
    {
        title: &#x27;Les Misérables&#x27;,
        genre: &#x27;Historical Fiction&#x27;,
        author: &#x27;Victor Hugo&#x27;,
        read: false
        },
    {
        title: &#x27;The Time Machine&#x27;,
        genre: &#x27;Science Fiction&#x27;,
        author: &#x27;H. G. Wells&#x27;,
        read: false
        },
    {
        title: &#x27;A Journey into the Center of the Earth&#x27;,
        genre: &#x27;Science Fiction&#x27;,
        author: &#x27;Jules Verne&#x27;,
        read: false
        },
    {
        title: &#x27;The Dark World&#x27;,
        genre: &#x27;Fantasy&#x27;,
        author: &#x27;Henry Kuttner&#x27;,
        read: false
        },
    {
        title: &#x27;The Wind in the Willows&#x27;,
        genre: &#x27;Fantasy&#x27;,
        author: &#x27;Kenneth Grahame&#x27;,
        read: false
        },
    {
        title: &#x27;Life On The Mississippi&#x27;,
        genre: &#x27;History&#x27;,
        author: &#x27;Mark Twain&#x27;,
        read: false
        },
    {
        title: &#x27;Childhood&#x27;,
        genre: &#x27;Biography&#x27;,
        author: &#x27;Lev Nikolayevich Tolstoy&#x27;,
        read: false
        }
    ];

    bookRouter.route(&#x27;/&#x27;) /* route accessed via /Books - bookListView.ejs will be rendered and populated with title, nav and books */
    .get(function (req, res) {
        res.render(&#x27;bookListView&#x27;, {
            title: &#x27;Books&#x27;,
            nav: [{
                Link: &#x27;/Books&#x27;,
                Text: &#x27;Books&#x27;
            }, {
                Link: &#x27;/Authors&#x27;,
                Text: &#x27;Authors&#x27;
            }],
            books: books
        });
    });

}
module.exports = bookRouter; /* the bookRouter has to be exported to be available for require in app.js */
</code></pre>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 5000;

var bookRouter = require(&#x27;./src/routes/bookRoutes&#x27;); /* We now require the book routes that we moved to bookRouter.js*/

app.use(express.static(&#x27;public&#x27;));
app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);

app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);


app.use(&#x27;/Books&#x27;, bookRouter); /* bookRouter is called here when you access /Books - routes are taken from bookRouter.js */

app.get(&#x27;/&#x27;, function (req, res) {
    res.render(&#x27;index&#x27;, {
        title: &#x27;Books&#x27;,
        nav: [{
            Link: &#x27;/Books&#x27;,
            Text: &#x27;Books&#x27;
        }, {
            Link: &#x27;/Authors&#x27;,
            Text: &#x27;Authors&#x27;
        }]
    });
});

app.get(&#x27;/books&#x27;, function (req, res) {
    res.send(&#x27;Hello Books&#x27;);
});

app.listen(port, function (err) {
    console.log(&#x27;running server on port &#x27; + port);
});
</code></pre>
<h2 id="10-creating-a-single-book-by-id-route--view">10 Creating a Single Book by ID Route &amp; View</h2>
<p>Now we want to add another route to a detailed view of a single books. The Route should be accessible by /Books/<!-- -->:id<!-- --> (ID of the book inside the hardcoded books object - later we will pull an ID from MongoDB). The view rendered will be bookView.ejs.</p>
<p><strong>bookRoutes.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);

var bookRouter = express.Router();

var books = [
    {
        title: &#x27;War and Peace&#x27;,
        genre: &#x27;Historical Fiction&#x27;,
        author: &#x27;Lev Nikolayevich Tolstoy&#x27;,
        read: false
        },
    {
        title: &#x27;Les Misérables&#x27;,
        genre: &#x27;Historical Fiction&#x27;,
        author: &#x27;Victor Hugo&#x27;,
        read: false
        },
    {
        title: &#x27;The Time Machine&#x27;,
        genre: &#x27;Science Fiction&#x27;,
        author: &#x27;H. G. Wells&#x27;,
        read: false
        },
    {
        title: &#x27;A Journey into the Center of the Earth&#x27;,
        genre: &#x27;Science Fiction&#x27;,
        author: &#x27;Jules Verne&#x27;,
        read: false
        },
    {
        title: &#x27;The Dark World&#x27;,
        genre: &#x27;Fantasy&#x27;,
        author: &#x27;Henry Kuttner&#x27;,
        read: false
        },
    {
        title: &#x27;The Wind in the Willows&#x27;,
        genre: &#x27;Fantasy&#x27;,
        author: &#x27;Kenneth Grahame&#x27;,
        read: false
        },
    {
        title: &#x27;Life On The Mississippi&#x27;,
        genre: &#x27;History&#x27;,
        author: &#x27;Mark Twain&#x27;,
        read: false
        },
    {
        title: &#x27;Childhood&#x27;,
        genre: &#x27;Biography&#x27;,
        author: &#x27;Lev Nikolayevich Tolstoy&#x27;,
        read: false
        }
];


bookRouter.route(&#x27;/&#x27;)
    .get(function (req, res) {
        res.render(&#x27;bookListView&#x27;, {
            title: &#x27;Books&#x27;,
            nav: [{
                Link: &#x27;/Books&#x27;,
                Text: &#x27;Books&#x27;
            }, {
                Link: &#x27;/Authors&#x27;,
                Text: &#x27;Authors&#x27;
            }]
        });
    });

    bookRouter.route(&#x27;/:id&#x27;)  /* We want to be able to access detailed info about a single book by adding the book ID - /Books/:id */
    .get(function (req, res) {
        var id = req.params.id; /* pass id parameter into URL - will be retrieved from books[id] */
        res.render(&#x27;bookView&#x27;, {  /* We have to create another view for the single book - bookView.ejs */
            title: &#x27;Books&#x27;,
            nav: [{
                Link: &#x27;/Books&#x27;,
                Text: &#x27;Books&#x27;
            }, {
                Link: &#x27;/Authors&#x27;,
                Text: &#x27;Authors&#x27;
            }]
            book: books[id]
        });
    });

}
module.exports = bookRouter;
</code></pre>
<p>Now we need to write the view to be rendered bookView.ejs (the code below only contains the body part - the header is identical to bookListView.ejs):</p>
<p><strong>bookView.ejs</strong></p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&#x27;utf-8&#x27;&gt;
    &lt;title&gt;Library App&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;section class=&#x27;container&#x27; style=&#x27;margin-bottom: 300px;&#x27;&gt;
        &lt;div class=&#x27;row&#x27;&gt;
            &lt;div class=&#x27;col-xs-12 center-block&#x27;&gt;
                &lt;div class=&#x27;panel panel-default&#x27;&gt;
                    &lt;div class=&#x27;panel-heading&#x27;&gt;
                        &lt;h4&gt;&lt;%= book.title %&gt;&lt;/h4&gt;
                    &lt;/div&gt;
                    &lt;div class=&#x27;panel-body&#x27;&gt;
                        &lt;div class=&#x27;col-xs-12 col-sm-2 col-lg-1&#x27;&gt;
                            &lt;a class=&#x27;story-title&#x27;&gt;&lt;img alt=&#x27;Book Cover&#x27; src=&#x27;&lt;%=book.book.image_url%&gt;&#x27; class=&#x27;img-responsive&#x27;&gt;&lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&#x27;col-xs-12 col-sm-10 col-lg-11&#x27;&gt;
                            &lt;h4&gt;&lt;span class=&#x27;label label-default&#x27;&gt;&lt;strong&gt;&lt;%= book.author %&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/h4&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/section&gt;

  &lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h2 id="11-cleaning-up-our-routes-by-creating-a-variable-for-the-nav-element">11 Cleaning up our routes by creating a variable for the NAV element</h2>
<p>We created a navbar in all our views and used EJS to inject some navigational elements in there. But we don´t want to have to copy it into every route. We will create a nav element in app.js instead.</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 5000;
var nav = [{                           /* We create a NAV element in app.js - this is now available for all routes */
    Link: &#x27;/Books&#x27;,
    Text: &#x27;Book&#x27;
    }, {
    Link: &#x27;/Authors&#x27;,
    Text: &#x27;Author&#x27;
    }];
var bookRouter = require(&#x27;./src/routes/bookRoutes&#x27;)(nav); /* The NAV element is now automatically passed into bookRouter to be available on all bookRoutes */

app.use(express.static(&#x27;public&#x27;));
app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);

app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);


app.use(&#x27;/Books&#x27;, bookRouter);

app.get(&#x27;/&#x27;, function (req, res) {
    res.render(&#x27;index&#x27;, {
        title: &#x27;Home&#x27;,
        nav: nav     /* We no longer have to type in the whole navigation - YEAH!*/
    });
});

app.get(&#x27;/books&#x27;, function (req, res) {
    res.send(&#x27;Hello Books&#x27;);
});

app.listen(port, function (err) {
    console.log(&#x27;running server on port &#x27; + port);
});
</code></pre>
<p>Now we have to wrap our routes into a router function with NAV as a variable, to make it available to those routes:</p>
<p><strong>bookRoutes.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);

var bookRouter = express.Router();

var router = function(nav){ /* The router is wrapped into a function with NAV as a variable */
    var books = [
    {
        title: &#x27;War and Peace&#x27;,
        genre: &#x27;Historical Fiction&#x27;,
        author: &#x27;Lev Nikolayevich Tolstoy&#x27;,
        read: false
        },
    {
        title: &#x27;Les Misérables&#x27;,
        genre: &#x27;Historical Fiction&#x27;,
        author: &#x27;Victor Hugo&#x27;,
        read: false
        },
    {
        title: &#x27;The Time Machine&#x27;,
        genre: &#x27;Science Fiction&#x27;,
        author: &#x27;H. G. Wells&#x27;,
        read: false
        },
    {
        title: &#x27;A Journey into the Center of the Earth&#x27;,
        genre: &#x27;Science Fiction&#x27;,
        author: &#x27;Jules Verne&#x27;,
        read: false
        },
    {
        title: &#x27;The Dark World&#x27;,
        genre: &#x27;Fantasy&#x27;,
        author: &#x27;Henry Kuttner&#x27;,
        read: false
        },
    {
        title: &#x27;The Wind in the Willows&#x27;,
        genre: &#x27;Fantasy&#x27;,
        author: &#x27;Kenneth Grahame&#x27;,
        read: false
        },
    {
        title: &#x27;Life On The Mississippi&#x27;,
        genre: &#x27;History&#x27;,
        author: &#x27;Mark Twain&#x27;,
        read: false
        },
    {
        title: &#x27;Childhood&#x27;,
        genre: &#x27;Biography&#x27;,
        author: &#x27;Lev Nikolayevich Tolstoy&#x27;,
        read: false
        }
    ];
    bookRouter.route(&#x27;/&#x27;)
    .get(function (req, res) {
        res.render(&#x27;bookListView&#x27;, {
            title: &#x27;Books&#x27;,
            nav: nav,         /* All routes wrapped into router function can now use NAV as a variable */
            books: books
        });
    });

    bookRouter.route(&#x27;/:id&#x27;)
    .get(function (req, res) {
        var id = req.params.id;
        res.render(&#x27;bookView&#x27;, {
            title: &#x27;Books&#x27;,
            nav: nav, /* All routes wrapped into router function can now use NAV as a variable */
            book: books[id]
        });
    });

    return bookRouter; /* bookRouter has now to be returned from our router function */
}
module.exports = router;  /* We now have to export the router instead of bookRouter - the router function will be executed in app.js with the NAV element to create a router */
</code></pre>
<h2 id="12-adding-mongodb">12 Adding MongoDB</h2>
<h3 id="download-and-install-mongodb">Download and Install MongoDB</h3>
<p>The installer can be downloaded from <a href="https://www.mongodb.com">MongoDB.com</a></p>
<p>Install the database, navigate to the install directory (e.g. <em>C:\Program Files\MongoDB\Server\3.2\bin</em>) with your command line and start the application with the command <strong>mongod</strong>. Make sure that you created a directory C:\data\db before running the mongod process!</p>
<p>Useful Commands for MongoDB:</p>
<table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong><em>Command</em></strong></td><td><strong><em>Function</em></strong></td></tr><tr><td><strong>mongo</strong></td><td>Start</td></tr><tr><td><strong>show dbs</strong></td><td>Display all Databases</td></tr><tr><td><strong>mongo libraryApp</strong></td><td>Open libraryApp Database</td></tr><tr><td><strong>show collections</strong></td><td>Show all Collections of the opened Databases</td></tr><tr><td><strong>db.books.find();</strong></td><td>Display all Objects inside the books Collection</td></tr><tr><td><strong>db.books.remove(<!-- -->)</strong></td><td>Remove all Objects from the books Collection</td></tr></tbody></table>
<h3 id="create-adminroutes-to-populate-the-database">Create adminRoutes to populate the Database</h3>
<p>First install mongoDB into our project with <em>npm install --save mongodb</em></p>
<p>Now we create a new file adminRoutes.js in the src/routes directory.</p>
<p>adminRoutes.js</p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var adminRouter = express.Router();
var mongodb = require(&#x27;mongodb&#x27;).MongoClient; /* Pull in the mongoClient */

var books = [{ /* Copy books from bookRoutes.js */
    title: &#x27;Cryptonomicon&#x27;,
    isbn10: &#x27;0060512806&#x27;,
    author: &#x27;Neil Stephenson&#x27;,
    bookId: &#x27;816&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/414L%2BIbzcvL._SX317_BO1,204,203,200_.jpg&#x27;,
    read: true
}, {
    title: &#x27;Leviathan Wakes&#x27;,
    isbn10: &#x27;0316129089&#x27;,
    author: &#x27;James S.A. Corey&#x27;,
    bookId: &#x27;9533361&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/51QvTzb2vYL._SX322_BO1,204,203,200_.jpg&#x27;,
    read: false
}, {
    title: &#x27;The Lord of the Rings&#x27;,
    isbn10: &#x27;0395193958&#x27;,
    author: &#x27;J.R.R. Tolkien&#x27;,
    bookId: &#x27;569465&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/51eq24cRtRL._SX331_BO1,204,203,200_.jpg&#x27;,
    read: true
}, {
    title: &#x27;Norwegian Wood&#x27;,
    isbn10: &#x27;0375704027&#x27;,
    author: &#x27;Haruki Murakami&#x27;,
    bookId: &#x27;11297&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/512ZgaaHjIL._SX322_BO1,204,203,200_.jpg&#x27;,
    read: false
}, {
    title: &#x27;Microserfs&#x27;,
    isbn10: &#x27;0006548598&#x27;,
    author: &#x27;Douglas Coupland&#x27;,
    bookId: &#x27;2751&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/512ZD5DVC4L._SX345_BO1,204,203,200_.jpg&#x27;,
    read: true
}, {
    title: &#x27;Up Country&#x27;,
    isbn10: &#x27;0446611913&#x27;,
    author: &#x27;Nelson Demille&#x27;,
    bookId: &#x27;33820&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/512Jrk-RopL._SX290_BO1,204,203,200_.jpg&#x27;,
    read: true
}, {
    title: &#x27;Night over Water&#x27;,
    isbn10: &#x27;0451173139&#x27;,
    author: &#x27;Ken Follett&#x27;,
    bookId: &#x27;967690&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/51OON2-%2BI-L._SX297_BO1,204,203,200_.jpg&#x27;,
    read: true
}, {
    title: &#x27;The Stand&#x27;,
    isbn10: &#x27;0307947300&#x27;,
    author: &#x27;Stephen King&#x27;,
    bookId: &#x27;13155183&#x27;,
    cover: &#x27;http://ecx.images-amazon.com/images/I/41IzCMjxPWL._SX320_BO1,204,203,200_.jpg&#x27;,
    read: true
}];

var router = function (nav) {

    adminRouter.route(&#x27;/addBooks&#x27;) /* open http://localhost:8080/Admin/addBooks to add books to MongoDB */
        .get(function (req, res) {
            var url =
                &#x27;mongodb://localhost:27017/libraryApp&#x27;; /* Connect to our local installation of MongoDB via the default port 27017 - create DB libraryApp on insert */

            mongodb.connect(url, function (err, db) {
                var collection = db.collection(&#x27;books&#x27;); /* Connect to a Collection in libraryApp named books - is created on first insert */
                collection.insertMany(books, /* insertMany inserts all Objects from the books variable from above (otherwise insertOne) */
                    function (err, results) {
                        res.send(results); /* Display the Collection after Insert - Object will be assigned ID by MongoDB*/
                        db.close(); /* db.close has to be inside the callback (async !)*/
                    }
                );

            });

        });

    return adminRouter;
};

module.exports = router;
</code></pre>
<p>Add the /Admin route to App.js and use adminRouter for it</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);

var app = express();

var port = process.env.PORT || 5000;
var nav = [{
    Link: &#x27;/Books&#x27;,
    Text: &#x27;Book&#x27;
}, {
    Link: &#x27;/Authors&#x27;,
    Text: &#x27;Author&#x27;
}];
var bookRouter = require(&#x27;./src/routes/bookRoutes&#x27;)(nav);
var adminRouter = require(&#x27;./src/routes/adminRoutes&#x27;)(nav); /* Add adminRoutes */

app.use(express.static(&#x27;public&#x27;));
app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);

app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

app.use(&#x27;/Books&#x27;, bookRouter);
app.use(&#x27;/Admin&#x27;, adminRouter); /* Use adminRoutes for /Admin */

app.get(&#x27;/&#x27;, function (req, res) {
    res.render(&#x27;index&#x27;, {
        title: &#x27;Hello from render&#x27;,
        nav: [{
            Link: &#x27;/Books&#x27;,
            Text: &#x27;Books&#x27;
        }, {
            Link: &#x27;/Authors&#x27;,
            Text: &#x27;Authors&#x27;
        }]
    });
});

app.get(&#x27;/books&#x27;, function (req, res) {
    res.send(&#x27;Hello Books&#x27;);
});

app.listen(port, function (err) {
    console.log(&#x27;running server on port &#x27; + port);
});
</code></pre>
<p>Now make sure mongod is running and access <a href="http://localhost:8080/Admin/addBooks">http://localhost:8080/Admin/addBooks</a> - you will get a JSON Object as MongoDB Response. All books will have an ID assigned by the Database and the DB &#x27;libraryApp&#x27; and Collection &#x27;books&#x27; will be created. Use the mongo commands (List, above) to check.</p>
<h2 id="14-use-the-mongodb-response">14 Use the MongoDB Response</h2>
<h3 id="select-many">Select Many</h3>
<p>Remove the hardcoded books variable and use the mongoDB response instead. Display all books from the books Collection. (bookListView.ejs)</p>
<p><strong>bookRoutes.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var bookRouter = express.Router();
var mongodb = require(&#x27;mongodb&#x27;).MongoClient;

var router = function (nav) {

 /* var books = [...]; has been deleted */

    bookRouter.route(&#x27;/&#x27;)
        .get(function (req, res) {
            var url =
                &#x27;mongodb://localhost:27017/libraryApp&#x27;;

            mongodb.connect(url, function (err, db) {
                var collection = db.collection(&#x27;books&#x27;); /* Connect to mongoDBs libraryApp books Collection */

                collection.find({}).toArray( /* find all Objects in the books Collection and put it into an Array */
                    function (err, results) {
                        res.render(&#x27;bookListView&#x27;, { /* Copy the res.render from before into the function to render the result of our mongoDB query*/
                            title: &#x27;Books&#x27;,
                            nav: nav,
                            books: results
                        });
                    }
                );
            });

        });

    return bookRouter;
};
module.exports = router;
</code></pre>
<h3 id="select-one">Select One</h3>
<p>Now we want to have a books details page (bookView.ejs) that only displays one book from the books Collection</p>
<p><strong>bookRoutes.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var bookRouter = express.Router();
var mongodb = require(&#x27;mongodb&#x27;).MongoClient;
var objectId = require(&#x27;mongodb&#x27;).ObjectID; /* Each book is assigned an ID by mongoDB - we make this ID available for our bookListView.ejs */

var router = function (nav) {

    bookRouter.route(&#x27;/&#x27;)
        .get(function (req, res) {
            var url =
                &#x27;mongodb://localhost:27017/libraryApp&#x27;;

            mongodb.connect(url, function (err, db) {
                var collection = db.collection(&#x27;books&#x27;);

                collection.find({}).toArray(
                    function (err, results) {
                        res.render(&#x27;bookListView&#x27;, {
                            title: &#x27;Books&#x27;,
                            nav: nav,
                            books: results
                        });
                    }
                );
            });

        });

    bookRouter.route(&#x27;/:id&#x27;)
        .get(function (req, res) {
            var id = new objectId(req.params.id); /* We use the mongoDB ID (_id) for id -&gt; URL is now /Books/:_id instead of /Books/:id */
            var url =
                &#x27;mongodb://localhost:27017/libraryApp&#x27;;

            mongodb.connect(url, function (err, db) {
                var collection = db.collection(&#x27;books&#x27;);

                collection.findOne({_id: id}, /* findOne returns the first book from the books collection with the same _id */
                    function (err, results) {
                        res.render(&#x27;bookView&#x27;, { /* result will be rendered in bookView.ejs */
                            title: &#x27;Books&#x27;,
                            nav: nav,
                            book: results
                        });

                    }
                );

            });

        });

    return bookRouter;
};
module.exports = router;
</code></pre>
<p>Now we want to have a books details page (bookView.ejs) that only displays one book from the books Collection</p>
<p><strong>bookListView.ejs</strong></p>
<pre><code class="language-html">...
&lt;!-- ################################################ Media ######################################################### --&gt;

&lt;section class=&#x27;container&#x27; style=&#x27;margin-bottom: 400px;&#x27;&gt;
    &lt;div class=&#x27;row&#x27;&gt;
        &lt;% for(var i=0; i&lt;books.length;i++){%&gt;
            &lt;div class=&#x27;col-xs-6 col-md-4 col-lg-3 center-block&#x27; style=&#x27;margin-bottom: 10px;&#x27;&gt;
                &lt;div class=&#x27;panel panel-default&#x27;&gt;
                    &lt;div class=&#x27;panel-heading&#x27;&gt;
                        &lt;h4&gt;&lt;%=books[i].title%&gt;&lt;/h4&gt;
                    &lt;/div&gt;
                    &lt;div class=&#x27;panel-body&#x27;&gt;
                        &lt;div class=&#x27;col-xs-12 col-sm-4 col-lg-6&#x27;&gt;
                            &lt;a class=&#x27;story-title&#x27; href=&#x27;/Books/&lt;%=books[i]._id%&gt;&#x27;&gt;&lt;img alt=&#x27;&#x27; src=&#x27;&lt;%=books[i].cover%&gt;&#x27; style=&#x27;height:100px&#x27; class=&#x27;img-thumbnail&#x27;&gt;&lt;/a&gt;
                        &lt;/div&gt;
                        &lt;div class=&#x27;col-xs-12 col-sm-8 col-lg-6&#x27;&gt;
                            &lt;p&gt;&lt;span class=&#x27;label label-default&#x27;&gt;&lt;strong&gt;&lt;%=books[i].author%&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
                            &lt;p&gt;&lt;span style=&#x27;font-family:courier,&#x27;new courier&#x27;;&#x27; class=&#x27;text-muted&#x27;&gt;&lt;a href=&#x27;/Books/&lt;%=books[i]._id%&gt;&#x27; class=&#x27;text-muted&#x27;&gt;Read More&lt;/a&gt;&lt;/span&gt;&lt;/p&gt; &lt;!-- Change URL from /Books/:i (&lt;%= i %&gt; with i = 0,1,2,3....8) to /Books/:_id -&gt; _id will be used to findOne --&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;%}%&gt;
    &lt;/div&gt;
    &lt;hr&gt;

&lt;/section&gt;
...
</code></pre>
<h2 id="15-creating-a-signin-form-on-indexejs">15 Creating a SignIn Form on Index.ejs</h2>
<p>Just a simple Input Form</p>
<p><strong>index.ejs</strong></p>
<pre><code class="language-html">...
&lt;!-- ################################################ Login ######################################################### --&gt;

&lt;div class=&#x27;col-xs-4 col-xs-offset-1&#x27; style=&#x27;margin-top: 30px;&#x27;&gt;
    &lt;div class=&#x27;container&#x27;&gt;
        &lt;div class=&#x27;row&#x27;&gt;
            &lt;div class=&#x27;col-sm-offset-1 col-sm-2 col-xs-12 text-center&#x27;&gt;
                &lt;form name=&#x27;signUpForm&#x27; action=&#x27;/auth/signUp&#x27; method=&#x27;post&#x27;&gt; &lt;!-- Creating a form to post SignUp to /auth/signUp --&gt;
                    User Name:
                    &lt;input name=&#x27;userName&#x27; id=&#x27;userName&#x27;&gt; &lt;!-- Input userName for post --&gt;
                    &lt;br/&gt;
                    &lt;br/&gt;
                    Password:
                    &lt;input name=&#x27;password&#x27; id=&#x27;password&#x27;&gt; &lt;!-- Input password for post --&gt;
                    &lt;br/&gt;
                    &lt;br/&gt;
                    &lt;input type=&#x27;submit&#x27; value=&#x27;Sign Up&#x27;&gt; &lt;!-- Submit post --&gt;
                &lt;/form&gt;
            &lt;/div&gt;
        &lt;/div&gt; &lt;!-- /row --&gt;
    &lt;/div&gt; &lt;!-- /container --&gt;
&lt;/div&gt; &lt;!-- /v-center --&gt;

&lt;!-- ################################################ /Login ######################################################### --&gt;
...
</code></pre>
<h2 id="16-creating-the-authentication-route">16 Creating the Authentication Route</h2>
<p>We need to add var bodyParser = require(&#x27;body-parser&#x27;); to app.js. The body-parser middleware will be used in app.use(bodyParser.json()); and app.use(bodyParser.urlencoded()); to create a req.body object from JSON elements or URL parameter. Body-parser is install with npm install --save body-parser.</p>
<p><strong>authRoute.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var authRouter = express.Router(); /* Creating the Authentication Router */
var mongodb = require(&#x27;mongodb&#x27;).MongoClient;
var passport = require(&#x27;passport&#x27;);

var router = function () {
    authRouter.route(&#x27;/signUp&#x27;) /* Creating the SingUp route */
        .post(function (req, res) {
            console.log(req.body); /* We log the req.body Object created by bodyParser from the signUp post to /auth/signup */
                });

            };

    return authRouter; /* return authRouter to be available for app.js */
};

module.exports = router;
</code></pre>
<p>We now add the authRoute to app.js</p>
<p><strong>app.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var bodyParser = require(&#x27;body-parser&#x27;);  /* Install bodyParser see above */

var app = express();

var port = process.env.PORT || 5000;
var nav = [{
    Link: &#x27;/Books&#x27;,
    Text: &#x27;Book&#x27;
}, {
    Link: &#x27;/Authors&#x27;,
    Text: &#x27;Author&#x27;
}];
var bookRouter = require(&#x27;./src/routes/bookRoutes&#x27;)(nav);
var adminRouter = require(&#x27;./src/routes/adminRoutes&#x27;)(nav);
var authRouter = require(&#x27;./src/routes/authRoutes&#x27;)(nav); /* Use the created authRouter for the Authentication routes */

app.use(express.static(&#x27;public&#x27;));
app.use(bodyParser.json()); /* Use bodyParser to create req.body Object from JSON elements*/
app.use(bodyParser.urlencoded()); /* Use bodyParser to create req.body Object from URL encoded JSON elements*/

require(&#x27;./src/config/passport&#x27;)(app);

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);

app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

app.use(&#x27;/Books&#x27;, bookRouter);
app.use(&#x27;/Admin&#x27;, adminRouter);
app.use(&#x27;/Auth&#x27;, authRouter); /* Use the created authRouter for the Authentication routes */

app.get(&#x27;/&#x27;, function (req, res) {
    res.render(&#x27;index&#x27;, {
        title: &#x27;Hello from render&#x27;,
        nav: [{
            Link: &#x27;/Books&#x27;,
            Text: &#x27;Books&#x27;
        }, {
            Link: &#x27;/Authors&#x27;,
            Text: &#x27;Authors&#x27;
        }]
    });
});

app.get(&#x27;/books&#x27;, function (req, res) {
    res.send(&#x27;Hello Books&#x27;);
});

app.listen(port, function (err) {
    console.log(&#x27;running server on port &#x27; + port);
});
</code></pre>
<h2 id="17-adding-passportjs-middleware">17 Adding Passport.js Middleware</h2>
<p>First we need to <em>npm install --save cookie-parser passport express-session</em>.</p>
<p><strong>authRoute.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var bodyParser = require(&#x27;body-parser&#x27;);
var cookieParser = require(&#x27;cookie-parser&#x27;); /* To parse the session cookie used by passport */
var passport = require(&#x27;passport&#x27;); /* user authentication */
var session = require(&#x27;express-session&#x27;); /* for passport-session: creates a session for the logged in user. Session stores the user information inside a cookie for the active session */

var app = express();

var port = process.env.PORT || 5000;
var nav = [{
    Link: &#x27;/Books&#x27;,
    Text: &#x27;Book&#x27;
}, {
    Link: &#x27;/Authors&#x27;,
    Text: &#x27;Author&#x27;
}];
var bookRouter = require(&#x27;./src/routes/bookRoutes&#x27;)(nav);
var adminRouter = require(&#x27;./src/routes/adminRoutes&#x27;)(nav);
var authRouter = require(&#x27;./src/routes/authRoutes&#x27;)(nav);

app.use(express.static(&#x27;public&#x27;));
app.use(bodyParser.json());
app.use(bodyParser.urlencoded());
app.use(cookieParser()); /* use cookieParser to parse the session cookie */
app.use(session({secret: &#x27;library&#x27;})); /* The session needs a secret - can be chosen freely */

require(&#x27;./src/config/passport&#x27;)(app); /* We separate the passport stuff src/config/passport.js - we pull in (app) to be able to app.use inside passport.js */

app.set(&#x27;views&#x27;, &#x27;./src/views&#x27;);

app.set(&#x27;view engine&#x27;, &#x27;ejs&#x27;);

app.use(&#x27;/Books&#x27;, bookRouter);
app.use(&#x27;/Admin&#x27;, adminRouter);
app.use(&#x27;/Auth&#x27;, authRouter);

app.get(&#x27;/&#x27;, function (req, res) {
    res.render(&#x27;index&#x27;, {
        title: &#x27;Hello from render&#x27;,
        nav: [{
            Link: &#x27;/Books&#x27;,
            Text: &#x27;Books&#x27;
        }, {
            Link: &#x27;/Authors&#x27;,
            Text: &#x27;Authors&#x27;
        }]
    });
});

app.get(&#x27;/books&#x27;, function (req, res) {
    res.send(&#x27;Hello Books&#x27;);
});

app.listen(port, function (err) {
    console.log(&#x27;running server on port &#x27; + port);
});
</code></pre>
<p>Separate the passport component to <em>src/config/passport.js</em>. We need to <em>npm install --save passport-local</em> to use the local strategy of authentication (not OAuth).</p>
<p><strong>passport.js</strong></p>
<pre><code class="language-javascript">var passport = require(&#x27;passport&#x27;); /* pull in passport */

module.exports = function (app) {
    app.use(passport.initialize());
    app.use(passport.session());

    passport.serializeUser(function (user, done) { /* Add User to Session */
        done(null, user); /* Callback User from Database */
    });

    passport.deserializeUser(function (user, done) { /* Remove User from Session */
        done(null, user);
    });

    require(&#x27;./strategies/local.strategy&#x27;)(); /* We only use a local.strategy for authentication - not passport.google, passport.facebook, etc. - Third-party OAuth. We save the file in src/config/strategies/local.strategy.js */

};
</code></pre>
<h2 id="18-authentication-with-local-strategy">18 Authentication with Local Strategy</h2>
<p>Now we create the local.strategy.js as required in passport.js:</p>
<p><strong>local.strategy.js</strong></p>
<pre><code class="language-javascript">var passport = require(&#x27;passport&#x27;),
    LocalStrategy = require(&#x27;passport-local&#x27;).Strategy,
    mongodb = require(&#x27;mongodb&#x27;).MongoClient;

module.exports = function () {
    passport.use(new LocalStrategy({
          usernameField: &#x27;userName&#x27;, /* take userName from input form in index.ejs when posted to /auth/signUp (bodyParser) */
          passwordField: &#x27;password&#x27; /* take password from input form in index.ejs when posted to /auth/signUp (bodyParser) */
      },
      function (username, password, done) { /* Pass username/password - then callBack done */
          var user = {username: username,
                      password: password
                    };
                    done(null, user); /* Take user and return user - authentication with mongoDB comes next */
                  }));
};
</code></pre>
<p>req.login and redirect to Profile</p>
<p><strong>authRoute.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var authRouter = express.Router();
var mongodb = require(&#x27;mongodb&#x27;).MongoClient;

var router = function () {
    authRouter.route(&#x27;/signUp&#x27;)
        .post(function (req, res) {
            console.log(req.body);
            req.login(req.body, function(){ /* We do not yet save the user to mongoDB - just redirect him to /auth/profile */
              res.redirect(&#x27;/auth/profile&#x27;);
            });
        });
    authRouter.route(&#x27;/profile&#x27;) /* we have to create the profile route */
      .get(function(req, res) { /* When GET /profile... */
        res.json(req.user); /* ... respond with the JSON Object user */
      });
    return authRouter;
};

module.exports = router;
</code></pre>
<h2 id="19-saving-the-user-to-mongodb">19 Saving the User to MongoDB</h2>
<p>SignUp save User to MongoDB</p>
<p><strong>authRoute.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var authRouter = express.Router();
var mongodb = require(&#x27;mongodb&#x27;).MongoClient;

var router = function () {
    authRouter.route(&#x27;/signUp&#x27;)
        .post(function (req, res) {
            console.log(req.body);
            var url =
                &#x27;mongodb://localhost:27017/libraryApp&#x27;;
            mongodb.connect(url, function (err, db) { /* connect to local install of mongoDB */
                var collection = db.collection(&#x27;users&#x27;); /* open users collection that is created on first signUp */
                var user = { /* Creation of a user object from req.body */
                    username: req.body.userName,
                    password: req.body.password
                };

                collection.insert(user, /* the user is automatically inserted into the users collection (collection is automatically created) */
                    function (err, results) {
                        req.login(results.ops[0], function () { /* user is no longer taken from req.body but from the results ops[0] limits the result to the {username, password, _id} JSON object */
                            res.redirect(&#x27;/auth/profile&#x27;);
                        });
                    });
            });

        });
    authRouter.route(&#x27;/profile&#x27;)
      .get(function(req, res) {
        res.json(req.user);
      });
    return authRouter;
};

module.exports = router;
</code></pre>
<h2 id="20-user-signin-from-mongodb">20 User SignIn from mongoDB</h2>
<p>Creating the SignIn Form</p>
<p><strong>index.ejs</strong></p>
<pre><code class="language-javascript">&lt;!-- ################################################ Login ######################################################### --&gt;

&lt;div class=&#x27;col-xs-4 col-xs-offset-1&#x27; style=&#x27;margin-top: 30px;&#x27;&gt;
    &lt;div class=&#x27;container&#x27;&gt;
        &lt;div class=&#x27;row&#x27;&gt;
            &lt;div class=&#x27;col-sm-offset-3 col-sm-2 col-xs-12 text-center&#x27;&gt;
                &lt;form name=&#x27;signInForm&#x27; action=&#x27;/auth/signIn&#x27; method=&#x27;post&#x27;&gt; &lt;!-- SignIN --&gt;
                    User Name:
                    &lt;input name=&#x27;userName&#x27; id=&#x27;userName&#x27;&gt;
                    &lt;br/&gt;
                    &lt;br/&gt;
                    Password:
                    &lt;input name=&#x27;password&#x27; id=&#x27;password&#x27;&gt;
                    &lt;br/&gt;
                    &lt;br/&gt;
                    &lt;input type=&#x27;submit&#x27; value=&#x27;Sign In&#x27;&gt;
                &lt;/form&gt;
            &lt;/div&gt;

            &lt;div class=&#x27;clearfix visible-xs&#x27; style=&#x27;margin-bottom: 20px;&#x27;&gt;&lt;/div&gt;

            &lt;div class=&#x27;col-sm-offset-1 col-sm-2 col-xs-12 text-center&#x27;&gt;
                &lt;form name=&#x27;signUpForm&#x27; action=&#x27;/auth/signUp&#x27; method=&#x27;post&#x27;&gt; &lt;!-- SignUp --&gt;
                    User Name:
                    &lt;input name=&#x27;userName&#x27; id=&#x27;userName&#x27;&gt;
                    &lt;br/&gt;
                    &lt;br/&gt;
                    Password:
                    &lt;input name=&#x27;password&#x27; id=&#x27;password&#x27;&gt;
                    &lt;br/&gt;
                    &lt;br/&gt;
                    &lt;input type=&#x27;submit&#x27; value=&#x27;Sign Up&#x27;&gt;
                &lt;/form&gt;
            &lt;/div&gt;
        &lt;/div&gt; &lt;!-- /row --&gt;
    &lt;/div&gt; &lt;!-- /container --&gt;
&lt;/div&gt; &lt;!-- /v-center --&gt;
&lt;!-- ################################################ /Login ######################################################### --&gt;
</code></pre>
<p>SignIn save User to MongoDB</p>
<p><strong>authRoute.js</strong></p>
<pre><code class="language-javascript">var express = require(&#x27;express&#x27;);
var authRouter = express.Router();
var mongodb = require(&#x27;mongodb&#x27;).MongoClient;
var passport = require(&#x27;passport&#x27;); /* Pull in passport for signIn */

var router = function () {
    authRouter.route(&#x27;/signUp&#x27;)
        .post(function (req, res) {
            console.log(req.body);
            var url =
                &#x27;mongodb://localhost:27017/libraryApp&#x27;;
            mongodb.connect(url, function (err, db) {
                var collection = db.collection(&#x27;users&#x27;);
                var user = {
                    username: req.body.userName,
                    password: req.body.password
                };

                collection.insert(user,
                    function (err, results) {
                        req.login(results.ops[0], function () {
                            res.redirect(&#x27;/auth/profile&#x27;);
                        });
                    });
            });

        });
    authRouter.route(&#x27;/signIn&#x27;)
        .post(passport.authenticate(&#x27;local&#x27;, { /* user post is authenticated with passport local strategy */
            failureRedirect: &#x27;/&#x27; /* If user did not sign up first - redirect back to home */
        }), function (req, res) {
            res.redirect(&#x27;/auth/profile&#x27;); /* If successfully authenticated go to profile page */
        });
    authRouter.route(&#x27;/profile&#x27;)
        .all(function (req, res, next) {
            if (!req.user) {
                res.redirect(&#x27;/&#x27;);
            }
            next();
        })
        .get(function (req, res) {
            res.json(req.user);
        });
    return authRouter;
};

module.exports = router;
</code></pre>
<h2 id="21-verifying-user-in-db">21 Verifying User in DB</h2>
<p><strong>authRoute.js</strong></p>
<p>...</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/javascript">Javascript</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/node">Node</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/docs/tags/databases-mongo-db">Databases - MongoDB</a></li></ul></div></div><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Development/Javascript/2016-06-01--node-express-mongodb/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Development/Javascript/2016-08-11--node-express-static-wiki/2016-08-11"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Node Express Static</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Development/Javascript/2016-05-27--javascript-apis-and-ajax/2016-05-27"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">JavaScript and Getting Started with APIs and AJAX</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#01-install-nodejs-and-expressjs-to-serve-our-web-application" class="table-of-contents__link toc-highlight">01 Install Node.js and Express.js to serve our Web Application</a></li><li><a href="#02-add-start-script" class="table-of-contents__link toc-highlight">02 Add Start Script</a></li><li><a href="#03-add-routing-hello-world" class="table-of-contents__link toc-highlight">03 Add Routing (Hello World)</a></li><li><a href="#04-serve-static-files" class="table-of-contents__link toc-highlight">04 Serve Static Files</a></li><li><a href="#05-add-bower-to-the-project" class="table-of-contents__link toc-highlight">05 Add Bower to the Project</a></li><li><a href="#06-add-gulp-to-the-project" class="table-of-contents__link toc-highlight">06 Add Gulp to the Project</a><ul><li><a href="#inject-bower-dependencies-with-wiredep" class="table-of-contents__link toc-highlight">Inject Bower Dependencies with Wiredep</a></li><li><a href="#inject-with-gulp-inject" class="table-of-contents__link toc-highlight">Inject with Gulp-Inject</a></li><li><a href="#auto-restart-with-nodemon" class="table-of-contents__link toc-highlight">Auto-restart with Nodemon</a></li></ul></li><li><a href="#07-add-a-templating-engine---ejs" class="table-of-contents__link toc-highlight">07 Add a Templating Engine - EJS</a></li><li><a href="#08-adding-a-page-navigation-with-routing" class="table-of-contents__link toc-highlight">08 Adding a Page Navigation with Routing</a></li><li><a href="#09-adding-a-router-for-the-listview-of-our-book-page" class="table-of-contents__link toc-highlight">09 Adding a Router for the Listview of our Book Page</a><ul><li><a href="#adding-a-route-to-render" class="table-of-contents__link toc-highlight">Adding a Route to Render</a></li><li><a href="#cleaning-up-the-app-file-with-routers" class="table-of-contents__link toc-highlight">Cleaning up the App File with Routers</a></li></ul></li><li><a href="#10-creating-a-single-book-by-id-route--view" class="table-of-contents__link toc-highlight">10 Creating a Single Book by ID Route &amp; View</a></li><li><a href="#11-cleaning-up-our-routes-by-creating-a-variable-for-the-nav-element" class="table-of-contents__link toc-highlight">11 Cleaning up our routes by creating a variable for the NAV element</a></li><li><a href="#12-adding-mongodb" class="table-of-contents__link toc-highlight">12 Adding MongoDB</a><ul><li><a href="#download-and-install-mongodb" class="table-of-contents__link toc-highlight">Download and Install MongoDB</a></li><li><a href="#create-adminroutes-to-populate-the-database" class="table-of-contents__link toc-highlight">Create adminRoutes to populate the Database</a></li></ul></li><li><a href="#14-use-the-mongodb-response" class="table-of-contents__link toc-highlight">14 Use the MongoDB Response</a><ul><li><a href="#select-many" class="table-of-contents__link toc-highlight">Select Many</a></li><li><a href="#select-one" class="table-of-contents__link toc-highlight">Select One</a></li></ul></li><li><a href="#15-creating-a-signin-form-on-indexejs" class="table-of-contents__link toc-highlight">15 Creating a SignIn Form on Index.ejs</a></li><li><a href="#16-creating-the-authentication-route" class="table-of-contents__link toc-highlight">16 Creating the Authentication Route</a></li><li><a href="#17-adding-passportjs-middleware" class="table-of-contents__link toc-highlight">17 Adding Passport.js Middleware</a></li><li><a href="#18-authentication-with-local-strategy" class="table-of-contents__link toc-highlight">18 Authentication with Local Strategy</a></li><li><a href="#19-saving-the-user-to-mongodb" class="table-of-contents__link toc-highlight">19 Saving the User to MongoDB</a></li><li><a href="#20-user-signin-from-mongodb" class="table-of-contents__link toc-highlight">20 User SignIn from mongoDB</a></li><li><a href="#21-verifying-user-in-db" class="table-of-contents__link toc-highlight">21 Verifying User in DB</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Research</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Notebook</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/tags">Tags</a></li><li class="footer__item"><a class="footer__link-item" href="/Curriculum-Vitae">CV</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/mike-polinowski-6396ba121/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/MikePolinowski" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.flickr.com/people/149680084@N06/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Flickr<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/mpolinowski" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Mike Polinowski, INSTAR Deutschland GmbH, Shenzhen - China.</div></div></div></footer></div>
</body>
</html>